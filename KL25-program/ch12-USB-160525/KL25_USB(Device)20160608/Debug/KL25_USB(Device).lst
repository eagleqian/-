
KL25_USB(Device).elf:     file format elf32-littlearm
KL25_USB(Device).elf
architecture: arm, flags 0x00000012:
EXEC_P, HAS_SYMS
start address 0x00000801

Program Header:
    LOAD off    0x000000b4 vaddr 0x00000000 paddr 0x00000000 align 2**2
         filesz 0x000000c0 memsz 0x000000c0 flags r--
    LOAD off    0x00000174 vaddr 0x00000400 paddr 0x00000400 align 2**0
         filesz 0x00000010 memsz 0x00000010 flags r--
    LOAD off    0x00000184 vaddr 0x00000800 paddr 0x00000800 align 2**2
         filesz 0x00001354 memsz 0x00001354 flags r-x
    LOAD off    0x000014d8 vaddr 0x1ffff000 paddr 0x00001b54 align 2**2
         filesz 0x000000d8 memsz 0x00000fd0 flags rw-
private flags = 5000002: [Version5 EABI] [has entry point]

Sections:
Idx Name          Size      VMA       LMA       File off  Algn  Flags
  0 .interrupts   000000c0  00000000  00000000  000000b4  2**2  CONTENTS, ALLOC, LOAD, READONLY, DATA
  1 .flash_config 00000010  00000400  00000400  00000174  2**0  CONTENTS, ALLOC, LOAD, READONLY, DATA
  2 .text         00001354  00000800  00000800  00000184  2**2  CONTENTS, ALLOC, LOAD, READONLY, CODE
  3 .data         000000d8  1ffff000  00001b54  000014d8  2**2  CONTENTS, ALLOC, LOAD, DATA
  4 .bss          000006f8  1ffff0d8  00001c2c  000015b0  2**2  ALLOC
  5 .heap         00000400  1ffff7d0  00002324  000015b0  2**0  ALLOC
  6 .stack        00000400  1ffffbd0  00002724  000015b0  2**0  ALLOC
  7 .ARM.attributes 00000030  00000000  00000000  000015b0  2**0  CONTENTS, READONLY
  8 .debug_info   000025f9  00000000  00000000  000015e0  2**0  CONTENTS, READONLY, DEBUGGING
  9 .debug_abbrev 0000099d  00000000  00000000  00003bd9  2**0  CONTENTS, READONLY, DEBUGGING
 10 .debug_aranges 00000208  00000000  00000000  00004578  2**3  CONTENTS, READONLY, DEBUGGING
 11 .debug_ranges 00000178  00000000  00000000  00004780  2**0  CONTENTS, READONLY, DEBUGGING
 12 .debug_macro  0000a6d6  00000000  00000000  000048f8  2**0  CONTENTS, READONLY, DEBUGGING
 13 .debug_line   000024c2  00000000  00000000  0000efce  2**0  CONTENTS, READONLY, DEBUGGING
 14 .debug_str    00035a03  00000000  00000000  00011490  2**0  CONTENTS, READONLY, DEBUGGING
 15 .comment      00000070  00000000  00000000  00046e93  2**0  CONTENTS, READONLY
 16 .debug_frame  00000548  00000000  00000000  00046f04  2**2  CONTENTS, READONLY, DEBUGGING
SYMBOL TABLE:
00000000 l    d  .interrupts	00000000 .interrupts
00000400 l    d  .flash_config	00000000 .flash_config
00000800 l    d  .text	00000000 .text
1ffff000 l    d  .data	00000000 .data
1ffff0d8 l    d  .bss	00000000 .bss
1ffff7d0 l    d  .heap	00000000 .heap
1ffffbd0 l    d  .stack	00000000 .stack
00000000 l    d  .ARM.attributes	00000000 .ARM.attributes
00000000 l    d  .debug_info	00000000 .debug_info
00000000 l    d  .debug_abbrev	00000000 .debug_abbrev
00000000 l    d  .debug_aranges	00000000 .debug_aranges
00000000 l    d  .debug_ranges	00000000 .debug_ranges
00000000 l    d  .debug_macro	00000000 .debug_macro
00000000 l    d  .debug_line	00000000 .debug_line
00000000 l    d  .debug_str	00000000 .debug_str
00000000 l    d  .comment	00000000 .comment
00000000 l    d  .debug_frame	00000000 .debug_frame
00000000 l    df *ABS*	00000000 ./03_MCU/startup_MKL25Z4.o
00000000 l    df *ABS*	00000000 isr.c
00000000 l    df *ABS*	00000000 main.c
00000000 l    df *ABS*	00000000 common.c
00000a4c l     F .text	0000002c NVIC_EnableIRQ
00000a78 l     F .text	0000002c NVIC_DisableIRQ
00000000 l    df *ABS*	00000000 light.c
00000000 l    df *ABS*	00000000 gpio.c
00001adc l     O .text	00000014 PORT_ARR
00001af0 l     O .text	00000014 GPIO_ARR
00000b4c l     F .text	00000034 gpio_port_pin_resolution
00000000 l    df *ABS*	00000000 usb.c
1ffff010 l     O .data	00000012 Device_Descriptor
1ffff024 l     O .data	00000020 Configuration_Descriptor
1ffff044 l     O .data	00000004 String_Descriptor0
1ffff048 l     O .data	00000012 String_Descriptor1
1ffff05c l     O .data	00000038 String_Descriptor2
1ffff0d8 l     O .bss	00000020 gu8EP0_OUT_ODD_Buffer
1ffff0f8 l     O .bss	00000020 gu8EP0_OUT_EVEN_Buffer
1ffff118 l     O .bss	00000020 gu8EP0_IN_ODD_Buffer
1ffff138 l     O .bss	00000020 gu8EP0_IN_EVEN_Buffer
1ffff158 l     O .bss	00000020 gu8EP1_OUT_ODD_Buffer
1ffff178 l     O .bss	00000020 gu8EP1_OUT_EVEN_Buffer
1ffff198 l     O .bss	00000020 gu8EP1_IN_ODD_Buffer
1ffff1b8 l     O .bss	00000020 gu8EP1_IN_EVEN_Buffer
1ffff1d8 l     O .bss	00000020 gu8EP2_OUT_ODD_Buffer
1ffff1f8 l     O .bss	00000020 gu8EP2_OUT_EVEN_Buffer
1ffff218 l     O .bss	00000020 gu8EP2_IN_ODD_Buffer
1ffff238 l     O .bss	00000020 gu8EP2_IN_EVEN_Buffer
1ffff258 l     O .bss	00000020 gu8EP3_OUT_ODD_Buffer
1ffff278 l     O .bss	00000020 gu8EP3_OUT_EVEN_Buffer
1ffff298 l     O .bss	00000020 gu8EP3_IN_ODD_Buffer
1ffff2b8 l     O .bss	00000020 gu8EP3_IN_EVEN_Buffer
00001b04 l     O .text	00000010 cEP_Size
1ffff2d8 l     O .bss	00000001 gu8USBClearFlags
1ffff2dc l     O .bss	00000004 pu8IN_DataPointer
1ffff2e0 l     O .bss	00000001 gu8IN_Counter
1ffff2e1 l     O .bss	00000001 gu8USB_Toogle_flags
1ffff2e2 l     O .bss	00000001 gu8Dummy
1ffff2e3 l     O .bss	00000001 gu8HALT_EP
1ffff2e4 l     O .bss	00000001 gu8USB_State
1ffff2e8 l     O .bss	00000004 Setup_Pkt
000018a8 l     F .text	0000004c usb_ep0_in_handler
00001770 l     F .text	00000080 usb_setup_handler
00001928 l     F .text	00000014 usb_ep0_out_handler
0000137c l     F .text	000001e0 usb_ep_in_transfer
0000155c l     F .text	000000a8 usb_set_interface
00001604 l     F .text	0000016c usb_stdReq_handler
000018f4 l     F .text	00000034 usb_ep0_stall
000017f0 l     F .text	000000b8 usb_endpoint_setup_handler
00000000 l    df *ABS*	00000000 system_MKL25Z4.c
00000000 l    df *ABS*	00000000 
00000400 l       *ABS*	00000000 STACK_SIZE
1ffffbd0 l       .heap	00000000 __HeapLimit
00000400 l       *ABS*	00000000 HEAP_SIZE
00001b54 l       .text	00000000 __DATA_ROM
20002c00 l       *ABS*	00000000 __StackLimit
1ffff7d0 g       .heap	00000000 __HeapBase
1ffff000 g       .data	00000000 __data_start__
00000844  w    F .text	00000004 I2C0_IRQHandler
00000844  w    F .text	00000004 HardFault_Handler
00000844  w    F .text	00000004 SysTick_Handler
00000b04 g     F .text	0000002a light_init
00000844  w    F .text	00000004 PendSV_Handler
00000844  w    F .text	00000004 NMI_Handler
00001b54 g       .data	00000000 __exidx_end
00000844  w    F .text	00000004 I2C1_IRQHandler
00000844  w    F .text	00000004 UART1_IRQHandler
00001b54 g       .text	00000000 __etext
1ffff3bc g     O .bss	00000400 BDT
00000844  w    F .text	00000004 DMA2_IRQHandler
1ffff2ec g     O .bss	00000001 g_USBSendFlag
00000844  w    F .text	00000004 TPM0_IRQHandler
00001104 g     F .text	0000006c usb_isr_handler
1ffff2f0 g     O .bss	00000064 g_USBSend
00000844  w    F .text	00000004 LLWU_IRQHandler
1ffff7bc g     O .bss	00000004 BDTtable
00000844  w    F .text	00000004 TSI0_IRQHandler
00000844  w    F .text	00000004 UART0_IRQHandler
00000aa4 g     F .text	0000002e enable_irq
1ffff354 g     O .bss	00000001 g_USBSendLength
00001b54 g       .data	00000000 __DTOR_END__
1ffff7c0 g     O .bss	00000010 USB_String_Table
00000844  w    F .text	00000004 ADC0_IRQHandler
00000844  w    F .text	00000004 Reserved39_IRQHandler
1ffff0d8 g       .bss	00000000 __START_BSS
00000d18 g     F .text	000001a4 usb_init
1ffff0d8 g       .bss	00000000 __bss_start__
00000844  w    F .text	00000004 SPI1_IRQHandler
00000844  w    F .text	00000004 DefaultISR
00000844  w    F .text	00000004 PORTD_IRQHandler
00001b54 g       .data	00000000 __exidx_start
1ffff094 g     O .data	00000040 BD_BufferPointer
00000844  w    F .text	00000004 TPM2_IRQHandler
00000844  w    F .text	00000004 RTC_IRQHandler
00000800  w    F .text	00000044 Reset_Handler
1ffff0d4 g     O .data	00000001 vEP2State
00000844  w    F .text	00000004 RTC_Seconds_IRQHandler
00000844  w    F .text	00000004 MCG_IRQHandler
1ffff000 g     O .data	00000010 Serial_String
00000844  w    F .text	00000004 UART2_IRQHandler
1ffff0d8 g       .data	00000000 __data_end__
00001b54 g       .data	00000000 __CTOR_LIST__
000011e4 g     F .text	00000048 usb_stall_handler
1ffff7d0 g       .bss	00000000 __bss_end__
00000844  w    F .text	00000004 Reserved20_IRQHandler
00000ebc g     F .text	0000004c usb_enumerate
1ffff0d5 g     O .data	00000001 vEP3State
0000084c g     F .text	0000010c USB0_IRQHandler
00000b30 g     F .text	0000001c light_change
00000000 g       .interrupts	000000c0 __isr_vector
00000958 g     F .text	000000f4 main
00000844  w    F .text	00000004 PIT_IRQHandler
00001170 g     F .text	00000074 usb_get_isr
00000844  w    F .text	00000004 SVC_Handler
0000122c g     F .text	00000150 usb_reset_handler
1ffff000 g       .data	00000000 __DATA_RAM
1ffff7d0 g       .heap	00000000 __end__
00001b54 g       .data	00000000 __CTOR_END__
00000844  w    F .text	00000004 DMA3_IRQHandler
00001b54 g       .data	00000000 __DTOR_LIST__
1ffff7d0 g       .bss	00000000 __END_BSS
0000193c g     F .text	000001a0 SystemInit
00000844  w    F .text	00000004 DMA0_IRQHandler
00000844  w    F .text	00000004 DAC0_IRQHandler
0000104c g     F .text	000000b8 usb_recv
20003000 g       *ABS*	00000000 __StackTop
1ffff000 g       .data	00000000 _mtb_end
00001c2c g       .text	00000000 __DATA_END
00000844  w    F .text	00000004 Reserved45_IRQHandler
00000844  w    F .text	00000004 TPM1_IRQHandler
1ffff355 g     O .bss	00000001 g_USBRecvLength
00000844  w    F .text	00000004 LVD_LVW_IRQHandler
00000844  w    F .text	00000004 SPI0_IRQHandler
00000844  w    F .text	00000004 PORTA_IRQHandler
00000000 g       .interrupts	00000000 __VECTOR_TABLE
00000f08 g     F .text	00000144 usb_send
00000844  w    F .text	00000004 FTFA_IRQHandler
1ffff000 g       .data	00000000 _mtb_start
00000844  w    F .text	00000004 LPTMR0_IRQHandler
00000c44 g     F .text	00000080 gpio_set
00000cc4 g     F .text	00000054 gpio_reverse
00000b80 g     F .text	000000c4 gpio_init
00000844  w    F .text	00000004 CMP0_IRQHandler
1ffff358 g     O .bss	00000064 g_USBRecv
00000844  w    F .text	00000004 DMA1_IRQHandler
00000ad4 g     F .text	0000002e disable_irq



Disassembly of section .text:

00000800 <Reset_Handler>:
Reset_Handler():
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../03_MCU/startup_MKL25Z4.S:117
    .align 2
    .globl   Reset_Handler
    .weak    Reset_Handler
    .type    Reset_Handler, %function
Reset_Handler:
    cpsid   i               /* 屏蔽中断 */
     800:	b672      	cpsid	i
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../03_MCU/startup_MKL25Z4.S:119
#ifndef __NO_SYSTEM_INIT
    bl SystemInit           /* 跳转到系统初始化函数，在system_MKL25Z4.c中 */
     802:	f001 f89b 	bl	193c <SystemInit>
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../03_MCU/startup_MKL25Z4.S:121
#endif
    cpsie   i               /* 解除屏蔽中断 */
     806:	b662      	cpsie	i
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../03_MCU/startup_MKL25Z4.S:127

/*     把数据从ROM复制到RAM中。需要在连接文件中定义如下的标志。
 *
 *      __etext: 代码段结束标志, 比如： begin of data sections to copy from.
 *      __data_start__/__data_end__: 数据需要复制到的RAM地址范围。边界必须4字节对齐  */
    ldr    r1, =__etext
     808:	4909      	ldr	r1, [pc, #36]	; (830 <Reset_Handler+0x30>)
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../03_MCU/startup_MKL25Z4.S:128
    ldr    r2, =__data_start__
     80a:	4a0a      	ldr	r2, [pc, #40]	; (834 <Reset_Handler+0x34>)
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../03_MCU/startup_MKL25Z4.S:129
    ldr    r3, =__data_end__
     80c:	4b0a      	ldr	r3, [pc, #40]	; (838 <Reset_Handler+0x38>)
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../03_MCU/startup_MKL25Z4.S:131

    subs    r3, r2
     80e:	1a9b      	subs	r3, r3, r2
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../03_MCU/startup_MKL25Z4.S:132
    ble     .LC0
     810:	dd03      	ble.n	81a <Reset_Handler+0x1a>
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../03_MCU/startup_MKL25Z4.S:135

.LC1:
    subs    r3, 4
     812:	3b04      	subs	r3, #4
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../03_MCU/startup_MKL25Z4.S:136
    ldr    r0, [r1,r3]
     814:	58c8      	ldr	r0, [r1, r3]
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../03_MCU/startup_MKL25Z4.S:137
    str    r0, [r2,r3]
     816:	50d0      	str	r0, [r2, r3]
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../03_MCU/startup_MKL25Z4.S:138
    bgt    .LC1
     818:	dcfb      	bgt.n	812 <Reset_Handler+0x12>
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../03_MCU/startup_MKL25Z4.S:150
 *
 *     清理BSS段需要在连接文件中定义如下的标志
 *      __bss_start__: bss段的起始标志，需要对其到4字节
 *      __bss_end__: bss段的结束标志. 需要对其到4字节
 */
    ldr r1, =__bss_start__
     81a:	4908      	ldr	r1, [pc, #32]	; (83c <Reset_Handler+0x3c>)
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../03_MCU/startup_MKL25Z4.S:151
    ldr r2, =__bss_end__
     81c:	4a08      	ldr	r2, [pc, #32]	; (840 <Reset_Handler+0x40>)
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../03_MCU/startup_MKL25Z4.S:153

    subs    r2, r1
     81e:	1a52      	subs	r2, r2, r1
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../03_MCU/startup_MKL25Z4.S:154
    ble .LC3
     820:	dd03      	ble.n	82a <Reset_Handler+0x2a>
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../03_MCU/startup_MKL25Z4.S:156

    movs    r0, 0
     822:	2000      	movs	r0, #0
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../03_MCU/startup_MKL25Z4.S:158
.LC2:
    str r0, [r1, r2]
     824:	5088      	str	r0, [r1, r2]
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../03_MCU/startup_MKL25Z4.S:159
    subs    r2, 4
     826:	3a04      	subs	r2, #4
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../03_MCU/startup_MKL25Z4.S:160
    bge .LC2
     828:	dafc      	bge.n	824 <Reset_Handler+0x24>
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../03_MCU/startup_MKL25Z4.S:166
.LC3:
#endif
#ifndef __START
#define __START main
#endif
    bl    __START
     82a:	f000 f895 	bl	958 <main>
     82e:	0000      	.short	0x0000
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../03_MCU/startup_MKL25Z4.S:127

/*     把数据从ROM复制到RAM中。需要在连接文件中定义如下的标志。
 *
 *      __etext: 代码段结束标志, 比如： begin of data sections to copy from.
 *      __data_start__/__data_end__: 数据需要复制到的RAM地址范围。边界必须4字节对齐  */
    ldr    r1, =__etext
     830:	00001b54 	.word	0x00001b54
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../03_MCU/startup_MKL25Z4.S:128
    ldr    r2, =__data_start__
     834:	1ffff000 	.word	0x1ffff000
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../03_MCU/startup_MKL25Z4.S:129
    ldr    r3, =__data_end__
     838:	1ffff0d8 	.word	0x1ffff0d8
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../03_MCU/startup_MKL25Z4.S:150
 *
 *     清理BSS段需要在连接文件中定义如下的标志
 *      __bss_start__: bss段的起始标志，需要对其到4字节
 *      __bss_end__: bss段的结束标志. 需要对其到4字节
 */
    ldr r1, =__bss_start__
     83c:	1ffff0d8 	.word	0x1ffff0d8
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../03_MCU/startup_MKL25Z4.S:151
    ldr r2, =__bss_end__
     840:	1ffff7d0 	.word	0x1ffff7d0

00000844 <ADC0_IRQHandler>:
I2C0_IRQHandler():
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../03_MCU/startup_MKL25Z4.S:175
    .align    1
    .thumb_func
    .weak DefaultISR
    .type DefaultISR, %function
DefaultISR:
    ldr    r0, =DefaultISR
     844:	4800      	ldr	r0, [pc, #0]	; (848 <ADC0_IRQHandler+0x4>)
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../03_MCU/startup_MKL25Z4.S:176
    bx r0
     846:	4700      	bx	r0
$d():
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../03_MCU/startup_MKL25Z4.S:175
    .align    1
    .thumb_func
    .weak DefaultISR
    .type DefaultISR, %function
DefaultISR:
    ldr    r0, =DefaultISR
     848:	00000845 	.word	0x00000845

0000084c <USB0_IRQHandler>:
USB0_IRQHandler():
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../08_Source/isr.c:27
//        主机发来的数据，将数据放入全局变量g_USBRecv，并将接收数据长度写入
//        全局变量g_USBRecvLength
//=====================================================================

void USB0_IRQHandler(void)
{
     84c:	b590      	push	{r4, r7, lr}
     84e:	b083      	sub	sp, #12
     850:	af00      	add	r7, sp, #0
__disable_irq():
D:/suda/KL25_BOOK/SD-KL-CD(V6.5)-20160505/02-Software/KL25-program/ch12-USB(HWW)-(20160512)/KL25_USB(Device)20160608/02_CPU/core_cmFunc.h:344
  This function disables IRQ interrupts by setting the I-bit in the CPSR.
  Can only be executed in Privileged modes.
 */
__attribute__( ( always_inline ) ) __STATIC_INLINE void __disable_irq(void)
{
  __ASM volatile ("cpsid i" : : : "memory");
     852:	b672      	cpsid	i
USB0_IRQHandler():
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../08_Source/isr.c:31
    uint_8 isr_type;
    DISABLE_INTERRUPTS;    //关总中断
    //1. 获取中断类型
    isr_type=usb_get_isr();
     854:	1dfc      	adds	r4, r7, #7
     856:	f000 fc8b 	bl	1170 <usb_get_isr>
     85a:	1c03      	adds	r3, r0, #0
     85c:	7023      	strb	r3, [r4, #0]
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../08_Source/isr.c:33
    //2. 若不是令牌完成中断，调用相应处理程序
    if(isr_type!=USB_TOKDNE_INT)
     85e:	1dfb      	adds	r3, r7, #7
     860:	781b      	ldrb	r3, [r3, #0]
     862:	2b00      	cmp	r3, #0
     864:	d005      	beq.n	872 <USB0_IRQHandler+0x26>
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../08_Source/isr.c:35
    {
        usb_isr_handler(isr_type);    //调用非令牌完成中断的处理程序
     866:	1dfb      	adds	r3, r7, #7
     868:	781b      	ldrb	r3, [r3, #0]
     86a:	1c18      	adds	r0, r3, #0
     86c:	f000 fc4a 	bl	1104 <usb_isr_handler>
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../08_Source/isr.c:36
        goto USB0_IRQ_exit;
     870:	e052      	b.n	918 <USB0_IRQHandler+0xcc>
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../08_Source/isr.c:40
    }
    //3. 是令牌完成中断，执行块数据传输或设备枚举
    //(3.1)清收发ODD区，并指定EVEN区
    FLAG_SET(USB_CTL_ODDRST_SHIFT,USB0_CTL);
     872:	4a31      	ldr	r2, [pc, #196]	; (938 <USB0_IRQHandler+0xec>)
     874:	4930      	ldr	r1, [pc, #192]	; (938 <USB0_IRQHandler+0xec>)
     876:	2394      	movs	r3, #148	; 0x94
     878:	5ccb      	ldrb	r3, [r1, r3]
     87a:	b2db      	uxtb	r3, r3
     87c:	2102      	movs	r1, #2
     87e:	430b      	orrs	r3, r1
     880:	b2d9      	uxtb	r1, r3
     882:	2394      	movs	r3, #148	; 0x94
     884:	54d1      	strb	r1, [r2, r3]
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../08_Source/isr.c:42
    //(3.2)若是设备枚举请求，进行设备枚举
    if((USB0_STAT >> 4)==0)
     886:	4a2c      	ldr	r2, [pc, #176]	; (938 <USB0_IRQHandler+0xec>)
     888:	2390      	movs	r3, #144	; 0x90
     88a:	5cd3      	ldrb	r3, [r2, r3]
     88c:	b2db      	uxtb	r3, r3
     88e:	091b      	lsrs	r3, r3, #4
     890:	b2db      	uxtb	r3, r3
     892:	2b00      	cmp	r3, #0
     894:	d102      	bne.n	89c <USB0_IRQHandler+0x50>
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../08_Source/isr.c:44
    {
        usb_enumerate();
     896:	f000 fb11 	bl	ebc <usb_enumerate>
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../08_Source/isr.c:45
        goto USB0_IRQ_exit;
     89a:	e03d      	b.n	918 <USB0_IRQHandler+0xcc>
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../08_Source/isr.c:48
    }
    //(3.3)若不是设备枚举请求，进行数据收发操作
    if((USB0_STAT & 0xF8)==mEP2_IN)//从端点2发送数据至主机
     89c:	4a26      	ldr	r2, [pc, #152]	; (938 <USB0_IRQHandler+0xec>)
     89e:	2390      	movs	r3, #144	; 0x90
     8a0:	5cd3      	ldrb	r3, [r2, r3]
     8a2:	b2db      	uxtb	r3, r3
     8a4:	1c1a      	adds	r2, r3, #0
     8a6:	23f8      	movs	r3, #248	; 0xf8
     8a8:	4013      	ands	r3, r2
     8aa:	2b28      	cmp	r3, #40	; 0x28
     8ac:	d125      	bne.n	8fa <USB0_IRQHandler+0xae>
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../08_Source/isr.c:51
    {
        //若执行发送标志被置1，则执行发送数据函数
        if(g_USBSendFlag==1)
     8ae:	4b23      	ldr	r3, [pc, #140]	; (93c <USB0_IRQHandler+0xf0>)
     8b0:	781b      	ldrb	r3, [r3, #0]
     8b2:	2b01      	cmp	r3, #1
     8b4:	d10e      	bne.n	8d4 <USB0_IRQHandler+0x88>
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../08_Source/isr.c:54
        {
            //调用发送数据处理函数
            usb_send(g_USBSend,&g_USBSendLength);
     8b6:	4a22      	ldr	r2, [pc, #136]	; (940 <USB0_IRQHandler+0xf4>)
     8b8:	4b22      	ldr	r3, [pc, #136]	; (944 <USB0_IRQHandler+0xf8>)
     8ba:	1c10      	adds	r0, r2, #0
     8bc:	1c19      	adds	r1, r3, #0
     8be:	f000 fb23 	bl	f08 <usb_send>
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../08_Source/isr.c:55
            if(g_USBSendLength==0)
     8c2:	4b20      	ldr	r3, [pc, #128]	; (944 <USB0_IRQHandler+0xf8>)
     8c4:	781b      	ldrb	r3, [r3, #0]
     8c6:	2b00      	cmp	r3, #0
     8c8:	d103      	bne.n	8d2 <USB0_IRQHandler+0x86>
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../08_Source/isr.c:57
            {
                g_USBSendFlag=0;    //发送完成，执行发送标志清0
     8ca:	4b1c      	ldr	r3, [pc, #112]	; (93c <USB0_IRQHandler+0xf0>)
     8cc:	2200      	movs	r2, #0
     8ce:	701a      	strb	r2, [r3, #0]
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../08_Source/isr.c:59
            }
            goto USB0_IRQ_exit;
     8d0:	e022      	b.n	918 <USB0_IRQHandler+0xcc>
     8d2:	e021      	b.n	918 <USB0_IRQHandler+0xcc>
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../08_Source/isr.c:62
        }
        //若无数据需要发送，则向USB主机发送一个确认包
        BDTtable[bEP2IN_ODD].Cnt =0;
     8d4:	4b1c      	ldr	r3, [pc, #112]	; (948 <USB0_IRQHandler+0xfc>)
     8d6:	681b      	ldr	r3, [r3, #0]
     8d8:	3350      	adds	r3, #80	; 0x50
     8da:	2200      	movs	r2, #0
     8dc:	805a      	strh	r2, [r3, #2]
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../08_Source/isr.c:63
        vEP2State ^= 0x40;
     8de:	4b1b      	ldr	r3, [pc, #108]	; (94c <USB0_IRQHandler+0x100>)
     8e0:	781b      	ldrb	r3, [r3, #0]
     8e2:	2240      	movs	r2, #64	; 0x40
     8e4:	4053      	eors	r3, r2
     8e6:	b2da      	uxtb	r2, r3
     8e8:	4b18      	ldr	r3, [pc, #96]	; (94c <USB0_IRQHandler+0x100>)
     8ea:	701a      	strb	r2, [r3, #0]
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../08_Source/isr.c:64
        BDTtable[bEP2IN_ODD].Stat._byte= vEP2State;
     8ec:	4b16      	ldr	r3, [pc, #88]	; (948 <USB0_IRQHandler+0xfc>)
     8ee:	681b      	ldr	r3, [r3, #0]
     8f0:	3350      	adds	r3, #80	; 0x50
     8f2:	4a16      	ldr	r2, [pc, #88]	; (94c <USB0_IRQHandler+0x100>)
     8f4:	7812      	ldrb	r2, [r2, #0]
     8f6:	701a      	strb	r2, [r3, #0]
     8f8:	e00e      	b.n	918 <USB0_IRQHandler+0xcc>
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../08_Source/isr.c:66
    }
    else if((USB0_STAT & 0xF8)==mEP3_OUT)//从端点3接收主机发来的数据
     8fa:	4a0f      	ldr	r2, [pc, #60]	; (938 <USB0_IRQHandler+0xec>)
     8fc:	2390      	movs	r3, #144	; 0x90
     8fe:	5cd3      	ldrb	r3, [r2, r3]
     900:	b2db      	uxtb	r3, r3
     902:	1c1a      	adds	r2, r3, #0
     904:	23f8      	movs	r3, #248	; 0xf8
     906:	4013      	ands	r3, r2
     908:	2b30      	cmp	r3, #48	; 0x30
     90a:	d105      	bne.n	918 <USB0_IRQHandler+0xcc>
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../08_Source/isr.c:68
    {
        usb_recv(g_USBRecv,&g_USBRecvLength);
     90c:	4a10      	ldr	r2, [pc, #64]	; (950 <USB0_IRQHandler+0x104>)
     90e:	4b11      	ldr	r3, [pc, #68]	; (954 <USB0_IRQHandler+0x108>)
     910:	1c10      	adds	r0, r2, #0
     912:	1c19      	adds	r1, r3, #0
     914:	f000 fb9a 	bl	104c <usb_recv>
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../08_Source/isr.c:72
    }
USB0_IRQ_exit:
    // 清除令牌完成中断
    FLAG_SET(USB_ISTAT_TOKDNE_SHIFT,USB0_ISTAT);
     918:	4a07      	ldr	r2, [pc, #28]	; (938 <USB0_IRQHandler+0xec>)
     91a:	4907      	ldr	r1, [pc, #28]	; (938 <USB0_IRQHandler+0xec>)
     91c:	2380      	movs	r3, #128	; 0x80
     91e:	5ccb      	ldrb	r3, [r1, r3]
     920:	b2db      	uxtb	r3, r3
     922:	2108      	movs	r1, #8
     924:	430b      	orrs	r3, r1
     926:	b2d9      	uxtb	r1, r3
     928:	2380      	movs	r3, #128	; 0x80
     92a:	54d1      	strb	r1, [r2, r3]
__enable_irq():
D:/suda/KL25_BOOK/SD-KL-CD(V6.5)-20160505/02-Software/KL25-program/ch12-USB(HWW)-(20160512)/KL25_USB(Device)20160608/02_CPU/core_cmFunc.h:333
  This function enables IRQ interrupts by clearing the I-bit in the CPSR.
  Can only be executed in Privileged modes.
 */
__attribute__( ( always_inline ) ) __STATIC_INLINE void __enable_irq(void)
{
  __ASM volatile ("cpsie i" : : : "memory");
     92c:	b662      	cpsie	i
USB0_IRQHandler():
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../08_Source/isr.c:74
    ENABLE_INTERRUPTS;
    return;
     92e:	46c0      	nop			; (mov r8, r8)
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../08_Source/isr.c:75
}
     930:	46bd      	mov	sp, r7
     932:	b003      	add	sp, #12
     934:	bd90      	pop	{r4, r7, pc}
     936:	46c0      	nop			; (mov r8, r8)
     938:	40072000 	.word	0x40072000
     93c:	1ffff2ec 	.word	0x1ffff2ec
     940:	1ffff2f0 	.word	0x1ffff2f0
     944:	1ffff354 	.word	0x1ffff354
     948:	1ffff7bc 	.word	0x1ffff7bc
     94c:	1ffff0d4 	.word	0x1ffff0d4
     950:	1ffff358 	.word	0x1ffff358
     954:	1ffff355 	.word	0x1ffff355

00000958 <main>:
main():
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../08_Source/main.c:23
    'S',0x00,
    'B',0x00,
};

int main(void)
{
     958:	b580      	push	{r7, lr}
     95a:	b082      	sub	sp, #8
     95c:	af00      	add	r7, sp, #0
__disable_irq():
D:/suda/KL25_BOOK/SD-KL-CD(V6.5)-20160505/02-Software/KL25-program/ch12-USB(HWW)-(20160512)/KL25_USB(Device)20160608/02_CPU/core_cmFunc.h:344
  This function disables IRQ interrupts by setting the I-bit in the CPSR.
  Can only be executed in Privileged modes.
 */
__attribute__( ( always_inline ) ) __STATIC_INLINE void __disable_irq(void)
{
  __ASM volatile ("cpsid i" : : : "memory");
     95e:	b672      	cpsid	i
main():
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../08_Source/main.c:30
    //uint_16  recv_bytes;
    uint_8 i;
    //2. 关总中断
    DISABLE_INTERRUPTS;
    //3. 初始化外设模块
    light_init(RUN_LIGHT_BLUE, LIGHT_ON);       //蓝灯初始化
     960:	230a      	movs	r3, #10
     962:	33ff      	adds	r3, #255	; 0xff
     964:	1c18      	adds	r0, r3, #0
     966:	2100      	movs	r1, #0
     968:	f000 f8cc 	bl	b04 <light_init>
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../08_Source/main.c:31
    usb_init(Serial_String);  //USB设备初始化
     96c:	4b30      	ldr	r3, [pc, #192]	; (a30 <main+0xd8>)
     96e:	1c18      	adds	r0, r3, #0
     970:	f000 f9d2 	bl	d18 <usb_init>
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../08_Source/main.c:33
    //4. 给有关变量赋初值
    mRuncount=0;            //主循环计数器
     974:	2300      	movs	r3, #0
     976:	607b      	str	r3, [r7, #4]
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../08_Source/main.c:34
    g_USBRecvLength=0;      //USB接收数据长度初始化
     978:	4b2e      	ldr	r3, [pc, #184]	; (a34 <main+0xdc>)
     97a:	2200      	movs	r2, #0
     97c:	701a      	strb	r2, [r3, #0]
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../08_Source/main.c:35
    g_USBSendLength=0;      //USB发送数据长度初始化
     97e:	4b2e      	ldr	r3, [pc, #184]	; (a38 <main+0xe0>)
     980:	2200      	movs	r2, #0
     982:	701a      	strb	r2, [r3, #0]
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../08_Source/main.c:36
    g_USBSendFlag=0;        //USB执行发送标志初始化
     984:	4b2d      	ldr	r3, [pc, #180]	; (a3c <main+0xe4>)
     986:	2200      	movs	r2, #0
     988:	701a      	strb	r2, [r3, #0]
__enable_irq():
D:/suda/KL25_BOOK/SD-KL-CD(V6.5)-20160505/02-Software/KL25-program/ch12-USB(HWW)-(20160512)/KL25_USB(Device)20160608/02_CPU/core_cmFunc.h:333
  This function enables IRQ interrupts by clearing the I-bit in the CPSR.
  Can only be executed in Privileged modes.
 */
__attribute__( ( always_inline ) ) __STATIC_INLINE void __enable_irq(void)
{
  __ASM volatile ("cpsie i" : : : "memory");
     98a:	b662      	cpsie	i
main():
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../08_Source/main.c:46
    //进入主循环
    //主循环开始==================================================================
    for(;;)
    {
        //运行指示灯（RUN_LIGHT）闪烁---------------------------------------------
        mRuncount++;                       //主循环次数计数器+1
     98c:	687b      	ldr	r3, [r7, #4]
     98e:	3301      	adds	r3, #1
     990:	607b      	str	r3, [r7, #4]
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../08_Source/main.c:47
        if (mRuncount >= RUN_COUNTER_MAX)  //主循环次数计数器大于设定的宏常数
     992:	687a      	ldr	r2, [r7, #4]
     994:	4b2a      	ldr	r3, [pc, #168]	; (a40 <main+0xe8>)
     996:	429a      	cmp	r2, r3
     998:	d906      	bls.n	9a8 <main+0x50>
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../08_Source/main.c:49
        {
            mRuncount=0;                   //主循环次数计数器清零
     99a:	2300      	movs	r3, #0
     99c:	607b      	str	r3, [r7, #4]
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../08_Source/main.c:50
            light_change(RUN_LIGHT_BLUE);  //蓝色运行指示灯（RUN_LIGHT_BLUE）状态变化
     99e:	230a      	movs	r3, #10
     9a0:	33ff      	adds	r3, #255	; 0xff
     9a2:	1c18      	adds	r0, r3, #0
     9a4:	f000 f8c4 	bl	b30 <light_change>
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../08_Source/main.c:54
        }
        //以下加入用户程序--------------------------------------------------------
        //USB主机向USB设备发送要数据命令
        if(g_USBRecv[0]==cmdINTESTDATA && g_USBSendLength!=0)
     9a8:	4b26      	ldr	r3, [pc, #152]	; (a44 <main+0xec>)
     9aa:	781b      	ldrb	r3, [r3, #0]
     9ac:	2b02      	cmp	r3, #2
     9ae:	d10d      	bne.n	9cc <main+0x74>
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../08_Source/main.c:54 (discriminator 1)
     9b0:	4b21      	ldr	r3, [pc, #132]	; (a38 <main+0xe0>)
     9b2:	781b      	ldrb	r3, [r3, #0]
     9b4:	2b00      	cmp	r3, #0
     9b6:	d009      	beq.n	9cc <main+0x74>
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../08_Source/main.c:56
        {
            g_USBRecv[0]=cmdNULL;
     9b8:	4b22      	ldr	r3, [pc, #136]	; (a44 <main+0xec>)
     9ba:	2200      	movs	r2, #0
     9bc:	701a      	strb	r2, [r3, #0]
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../08_Source/main.c:57
            g_USBSend[0]=cmdINTESTDATA;
     9be:	4b22      	ldr	r3, [pc, #136]	; (a48 <main+0xf0>)
     9c0:	2202      	movs	r2, #2
     9c2:	701a      	strb	r2, [r3, #0]
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../08_Source/main.c:58
            g_USBSendFlag=1;
     9c4:	4b1d      	ldr	r3, [pc, #116]	; (a3c <main+0xe4>)
     9c6:	2201      	movs	r2, #1
     9c8:	701a      	strb	r2, [r3, #0]
     9ca:	e02f      	b.n	a2c <main+0xd4>
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../08_Source/main.c:61
        }
        //USB主机发送数据，写入到Flash中
        else if(g_USBRecv[0]==cmdOUTTESTDATA && g_USBRecvLength!=0)
     9cc:	4b1d      	ldr	r3, [pc, #116]	; (a44 <main+0xec>)
     9ce:	781b      	ldrb	r3, [r3, #0]
     9d0:	2b01      	cmp	r3, #1
     9d2:	d12b      	bne.n	a2c <main+0xd4>
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../08_Source/main.c:61 (discriminator 1)
     9d4:	4b17      	ldr	r3, [pc, #92]	; (a34 <main+0xdc>)
     9d6:	781b      	ldrb	r3, [r3, #0]
     9d8:	2b00      	cmp	r3, #0
     9da:	d027      	beq.n	a2c <main+0xd4>
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../08_Source/main.c:64
        {
            //禁止USB中断
            disable_irq(USB_INTERRUPT_IRQ);
     9dc:	2018      	movs	r0, #24
     9de:	f000 f879 	bl	ad4 <disable_irq>
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../08_Source/main.c:65
            for(i=0;i<g_USBRecvLength;i++)
     9e2:	1cfb      	adds	r3, r7, #3
     9e4:	2200      	movs	r2, #0
     9e6:	701a      	strb	r2, [r3, #0]
     9e8:	e00c      	b.n	a04 <main+0xac>
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../08_Source/main.c:66 (discriminator 2)
                g_USBSend[i]=g_USBRecv[i];
     9ea:	1cfb      	adds	r3, r7, #3
     9ec:	781b      	ldrb	r3, [r3, #0]
     9ee:	1cfa      	adds	r2, r7, #3
     9f0:	7812      	ldrb	r2, [r2, #0]
     9f2:	4914      	ldr	r1, [pc, #80]	; (a44 <main+0xec>)
     9f4:	5c89      	ldrb	r1, [r1, r2]
     9f6:	4a14      	ldr	r2, [pc, #80]	; (a48 <main+0xf0>)
     9f8:	54d1      	strb	r1, [r2, r3]
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../08_Source/main.c:65 (discriminator 2)
        //USB主机发送数据，写入到Flash中
        else if(g_USBRecv[0]==cmdOUTTESTDATA && g_USBRecvLength!=0)
        {
            //禁止USB中断
            disable_irq(USB_INTERRUPT_IRQ);
            for(i=0;i<g_USBRecvLength;i++)
     9fa:	1cfb      	adds	r3, r7, #3
     9fc:	781a      	ldrb	r2, [r3, #0]
     9fe:	1cfb      	adds	r3, r7, #3
     a00:	3201      	adds	r2, #1
     a02:	701a      	strb	r2, [r3, #0]
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../08_Source/main.c:65 (discriminator 1)
     a04:	4b0b      	ldr	r3, [pc, #44]	; (a34 <main+0xdc>)
     a06:	781b      	ldrb	r3, [r3, #0]
     a08:	1cfa      	adds	r2, r7, #3
     a0a:	7812      	ldrb	r2, [r2, #0]
     a0c:	429a      	cmp	r2, r3
     a0e:	d3ec      	bcc.n	9ea <main+0x92>
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../08_Source/main.c:67
                g_USBSend[i]=g_USBRecv[i];
            g_USBSendLength=g_USBRecvLength;
     a10:	4b08      	ldr	r3, [pc, #32]	; (a34 <main+0xdc>)
     a12:	781a      	ldrb	r2, [r3, #0]
     a14:	4b08      	ldr	r3, [pc, #32]	; (a38 <main+0xe0>)
     a16:	701a      	strb	r2, [r3, #0]
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../08_Source/main.c:68
            g_USBRecv[0]=cmdNULL;
     a18:	4b0a      	ldr	r3, [pc, #40]	; (a44 <main+0xec>)
     a1a:	2200      	movs	r2, #0
     a1c:	701a      	strb	r2, [r3, #0]
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../08_Source/main.c:69
            g_USBRecvLength=0;
     a1e:	4b05      	ldr	r3, [pc, #20]	; (a34 <main+0xdc>)
     a20:	2200      	movs	r2, #0
     a22:	701a      	strb	r2, [r3, #0]
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../08_Source/main.c:71
            //使能USB中断
            enable_irq(USB_INTERRUPT_IRQ);
     a24:	2018      	movs	r0, #24
     a26:	f000 f83d 	bl	aa4 <enable_irq>
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../08_Source/main.c:75
        }


    }//主循环end_for
     a2a:	e7af      	b.n	98c <main+0x34>
     a2c:	e7ae      	b.n	98c <main+0x34>
     a2e:	46c0      	nop			; (mov r8, r8)
     a30:	1ffff000 	.word	0x1ffff000
     a34:	1ffff355 	.word	0x1ffff355
     a38:	1ffff354 	.word	0x1ffff354
     a3c:	1ffff2ec 	.word	0x1ffff2ec
     a40:	0016e35f 	.word	0x0016e35f
     a44:	1ffff358 	.word	0x1ffff358
     a48:	1ffff2f0 	.word	0x1ffff2f0

00000a4c <NVIC_EnableIRQ>:
NVIC_EnableIRQ():
D:/suda/KL25_BOOK/SD-KL-CD(V6.5)-20160505/02-Software/KL25-program/ch12-USB(HWW)-(20160512)/KL25_USB(Device)20160608/02_CPU/core_cm0plus.h:684
    The function enables a device-specific interrupt in the NVIC interrupt controller.

    \param [in]      IRQn  External interrupt number. Value cannot be negative.
 */
__STATIC_INLINE void NVIC_EnableIRQ(IRQn_Type IRQn)
{
     a4c:	b580      	push	{r7, lr}
     a4e:	b082      	sub	sp, #8
     a50:	af00      	add	r7, sp, #0
     a52:	1c02      	adds	r2, r0, #0
     a54:	1dfb      	adds	r3, r7, #7
     a56:	701a      	strb	r2, [r3, #0]
D:/suda/KL25_BOOK/SD-KL-CD(V6.5)-20160505/02-Software/KL25-program/ch12-USB(HWW)-(20160512)/KL25_USB(Device)20160608/02_CPU/core_cm0plus.h:685
  NVIC->ISER[0] = (uint32_t)(1UL << (((uint32_t)(int32_t)IRQn) & 0x1FUL));
     a58:	4b06      	ldr	r3, [pc, #24]	; (a74 <NVIC_EnableIRQ+0x28>)
     a5a:	1dfa      	adds	r2, r7, #7
     a5c:	7812      	ldrb	r2, [r2, #0]
     a5e:	1c11      	adds	r1, r2, #0
     a60:	221f      	movs	r2, #31
     a62:	400a      	ands	r2, r1
     a64:	2101      	movs	r1, #1
     a66:	1c08      	adds	r0, r1, #0
     a68:	4090      	lsls	r0, r2
     a6a:	1c02      	adds	r2, r0, #0
     a6c:	601a      	str	r2, [r3, #0]
D:/suda/KL25_BOOK/SD-KL-CD(V6.5)-20160505/02-Software/KL25-program/ch12-USB(HWW)-(20160512)/KL25_USB(Device)20160608/02_CPU/core_cm0plus.h:686
}
     a6e:	46bd      	mov	sp, r7
     a70:	b002      	add	sp, #8
     a72:	bd80      	pop	{r7, pc}
     a74:	e000e100 	.word	0xe000e100

00000a78 <NVIC_DisableIRQ>:
NVIC_DisableIRQ():
D:/suda/KL25_BOOK/SD-KL-CD(V6.5)-20160505/02-Software/KL25-program/ch12-USB(HWW)-(20160512)/KL25_USB(Device)20160608/02_CPU/core_cm0plus.h:696
    The function disables a device-specific interrupt in the NVIC interrupt controller.

    \param [in]      IRQn  External interrupt number. Value cannot be negative.
 */
__STATIC_INLINE void NVIC_DisableIRQ(IRQn_Type IRQn)
{
     a78:	b580      	push	{r7, lr}
     a7a:	b082      	sub	sp, #8
     a7c:	af00      	add	r7, sp, #0
     a7e:	1c02      	adds	r2, r0, #0
     a80:	1dfb      	adds	r3, r7, #7
     a82:	701a      	strb	r2, [r3, #0]
D:/suda/KL25_BOOK/SD-KL-CD(V6.5)-20160505/02-Software/KL25-program/ch12-USB(HWW)-(20160512)/KL25_USB(Device)20160608/02_CPU/core_cm0plus.h:697
  NVIC->ICER[0] = (uint32_t)(1UL << (((uint32_t)(int32_t)IRQn) & 0x1FUL));
     a84:	4a06      	ldr	r2, [pc, #24]	; (aa0 <NVIC_DisableIRQ+0x28>)
     a86:	1dfb      	adds	r3, r7, #7
     a88:	781b      	ldrb	r3, [r3, #0]
     a8a:	1c19      	adds	r1, r3, #0
     a8c:	231f      	movs	r3, #31
     a8e:	400b      	ands	r3, r1
     a90:	2101      	movs	r1, #1
     a92:	4099      	lsls	r1, r3
     a94:	2380      	movs	r3, #128	; 0x80
     a96:	50d1      	str	r1, [r2, r3]
D:/suda/KL25_BOOK/SD-KL-CD(V6.5)-20160505/02-Software/KL25-program/ch12-USB(HWW)-(20160512)/KL25_USB(Device)20160608/02_CPU/core_cm0plus.h:698
}
     a98:	46bd      	mov	sp, r7
     a9a:	b002      	add	sp, #8
     a9c:	bd80      	pop	{r7, pc}
     a9e:	46c0      	nop			; (mov r8, r8)
     aa0:	e000e100 	.word	0xe000e100

00000aa4 <enable_irq>:
enable_irq():
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../07_Soft_Component/common/common.c:65
//函数返回：无
//参数说明：irq：irq号, 各个模块的中断号定义在MKL25Z.h中
//功能概要：使能irq中断 
//============================================================================
void enable_irq (IRQn_Type irq)
{
     aa4:	b580      	push	{r7, lr}
     aa6:	b082      	sub	sp, #8
     aa8:	af00      	add	r7, sp, #0
     aaa:	1c02      	adds	r2, r0, #0
     aac:	1dfb      	adds	r3, r7, #7
     aae:	701a      	strb	r2, [r3, #0]
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../07_Soft_Component/common/common.c:67
    //确定irq号为有效的irq号
    if (irq > 32)    irq=32;
     ab0:	1dfb      	adds	r3, r7, #7
     ab2:	781b      	ldrb	r3, [r3, #0]
     ab4:	b25b      	sxtb	r3, r3
     ab6:	2b20      	cmp	r3, #32
     ab8:	dd02      	ble.n	ac0 <enable_irq+0x1c>
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../07_Soft_Component/common/common.c:67 (discriminator 1)
     aba:	1dfb      	adds	r3, r7, #7
     abc:	2220      	movs	r2, #32
     abe:	701a      	strb	r2, [r3, #0]
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../07_Soft_Component/common/common.c:69
    
    NVIC_EnableIRQ(irq);
     ac0:	1dfb      	adds	r3, r7, #7
     ac2:	781b      	ldrb	r3, [r3, #0]
     ac4:	b25b      	sxtb	r3, r3
     ac6:	1c18      	adds	r0, r3, #0
     ac8:	f7ff ffc0 	bl	a4c <NVIC_EnableIRQ>
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../07_Soft_Component/common/common.c:71

}
     acc:	46bd      	mov	sp, r7
     ace:	b002      	add	sp, #8
     ad0:	bd80      	pop	{r7, pc}
     ad2:	46c0      	nop			; (mov r8, r8)

00000ad4 <disable_irq>:
disable_irq():
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../07_Soft_Component/common/common.c:80
//函数返回：无      
//参数说明：irq：irq号, 各个模块的中断号定义在MKL25Z.h中
//功能概要：禁止irq中断 
//============================================================================
void disable_irq (IRQn_Type irq)
{
     ad4:	b580      	push	{r7, lr}
     ad6:	b082      	sub	sp, #8
     ad8:	af00      	add	r7, sp, #0
     ada:	1c02      	adds	r2, r0, #0
     adc:	1dfb      	adds	r3, r7, #7
     ade:	701a      	strb	r2, [r3, #0]
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../07_Soft_Component/common/common.c:83

    //确定irq号为有效的irq号
    if (irq > 32)    irq=32;
     ae0:	1dfb      	adds	r3, r7, #7
     ae2:	781b      	ldrb	r3, [r3, #0]
     ae4:	b25b      	sxtb	r3, r3
     ae6:	2b20      	cmp	r3, #32
     ae8:	dd02      	ble.n	af0 <disable_irq+0x1c>
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../07_Soft_Component/common/common.c:83 (discriminator 1)
     aea:	1dfb      	adds	r3, r7, #7
     aec:	2220      	movs	r2, #32
     aee:	701a      	strb	r2, [r3, #0]
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../07_Soft_Component/common/common.c:85
    
    NVIC_DisableIRQ(irq);
     af0:	1dfb      	adds	r3, r7, #7
     af2:	781b      	ldrb	r3, [r3, #0]
     af4:	b25b      	sxtb	r3, r3
     af6:	1c18      	adds	r0, r3, #0
     af8:	f7ff ffbe 	bl	a78 <NVIC_DisableIRQ>
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../07_Soft_Component/common/common.c:86
}
     afc:	46bd      	mov	sp, r7
     afe:	b002      	add	sp, #8
     b00:	bd80      	pop	{r7, pc}
     b02:	46c0      	nop			; (mov r8, r8)

00000b04 <light_init>:
light_init():
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160512\Debug/../06_App_Component/light/light.c:18
     b04:	b580      	push	{r7, lr}
     b06:	b082      	sub	sp, #8
     b08:	af00      	add	r7, sp, #0
     b0a:	1c0a      	adds	r2, r1, #0
     b0c:	1dbb      	adds	r3, r7, #6
     b0e:	1c01      	adds	r1, r0, #0
     b10:	8019      	strh	r1, [r3, #0]
     b12:	1d7b      	adds	r3, r7, #5
     b14:	701a      	strb	r2, [r3, #0]
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160512\Debug/../06_App_Component/light/light.c:19
     b16:	1dbb      	adds	r3, r7, #6
     b18:	881a      	ldrh	r2, [r3, #0]
     b1a:	1d7b      	adds	r3, r7, #5
     b1c:	781b      	ldrb	r3, [r3, #0]
     b1e:	1c10      	adds	r0, r2, #0
     b20:	2101      	movs	r1, #1
     b22:	1c1a      	adds	r2, r3, #0
     b24:	f000 f82c 	bl	b80 <gpio_init>
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160512\Debug/../06_App_Component/light/light.c:20
     b28:	46bd      	mov	sp, r7
     b2a:	b002      	add	sp, #8
     b2c:	bd80      	pop	{r7, pc}
     b2e:	46c0      	nop			; (mov r8, r8)

00000b30 <light_change>:
light_change():
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160512\Debug/../06_App_Component/light/light.c:41
     b30:	b580      	push	{r7, lr}
     b32:	b082      	sub	sp, #8
     b34:	af00      	add	r7, sp, #0
     b36:	1c02      	adds	r2, r0, #0
     b38:	1dbb      	adds	r3, r7, #6
     b3a:	801a      	strh	r2, [r3, #0]
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160512\Debug/../06_App_Component/light/light.c:42
     b3c:	1dbb      	adds	r3, r7, #6
     b3e:	881b      	ldrh	r3, [r3, #0]
     b40:	1c18      	adds	r0, r3, #0
     b42:	f000 f8bf 	bl	cc4 <gpio_reverse>
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160512\Debug/../06_App_Component/light/light.c:43
     b46:	46bd      	mov	sp, r7
     b48:	b002      	add	sp, #8
     b4a:	bd80      	pop	{r7, pc}

00000b4c <gpio_port_pin_resolution>:
gpio_port_pin_resolution():
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/gpio/gpio.c:27
//           pin:引脚号（0~31，实际取值由芯片的物理引脚决定）
//功能概要：将传进参数port_pin进行解析，得出具体端口号与引脚号（例：PORTB|(5)
//         解析为PORTB与5，并将其分别赋值给port与pin）。
//===========================================================================
static void gpio_port_pin_resolution(uint_16 port_pin,uint_8* port,uint_8* pin)
{
     b4c:	b580      	push	{r7, lr}
     b4e:	b084      	sub	sp, #16
     b50:	af00      	add	r7, sp, #0
     b52:	60b9      	str	r1, [r7, #8]
     b54:	607a      	str	r2, [r7, #4]
     b56:	1c3b      	adds	r3, r7, #0
     b58:	330e      	adds	r3, #14
     b5a:	1c02      	adds	r2, r0, #0
     b5c:	801a      	strh	r2, [r3, #0]
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/gpio/gpio.c:28
    *port = (port_pin>>8);
     b5e:	1c3b      	adds	r3, r7, #0
     b60:	330e      	adds	r3, #14
     b62:	881b      	ldrh	r3, [r3, #0]
     b64:	0a1b      	lsrs	r3, r3, #8
     b66:	b29b      	uxth	r3, r3
     b68:	b2da      	uxtb	r2, r3
     b6a:	68bb      	ldr	r3, [r7, #8]
     b6c:	701a      	strb	r2, [r3, #0]
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/gpio/gpio.c:29
    *pin = port_pin;
     b6e:	1c3b      	adds	r3, r7, #0
     b70:	330e      	adds	r3, #14
     b72:	881b      	ldrh	r3, [r3, #0]
     b74:	b2da      	uxtb	r2, r3
     b76:	687b      	ldr	r3, [r7, #4]
     b78:	701a      	strb	r2, [r3, #0]
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/gpio/gpio.c:30
}
     b7a:	46bd      	mov	sp, r7
     b7c:	b004      	add	sp, #16
     b7e:	bd80      	pop	{r7, pc}

00000b80 <gpio_init>:
gpio_init():
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/gpio/gpio.c:43
//          state：端口引脚初始状态（0=低电平，1=高电平）
//功能概要：初始化指定端口引脚作为GPIO引脚功能，并定义为输入或输出，若是输出，
//          还指定初始状态是低电平或高电平
//===========================================================================
void gpio_init(uint_16 port_pin, uint_8 dir, uint_8 state)
{
     b80:	b580      	push	{r7, lr}
     b82:	b086      	sub	sp, #24
     b84:	af00      	add	r7, sp, #0
     b86:	1dbb      	adds	r3, r7, #6
     b88:	8018      	strh	r0, [r3, #0]
     b8a:	1d7b      	adds	r3, r7, #5
     b8c:	7019      	strb	r1, [r3, #0]
     b8e:	1d3b      	adds	r3, r7, #4
     b90:	701a      	strb	r2, [r3, #0]
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/gpio/gpio.c:49
    //局部变量声明
    PORT_MemMapPtr port_ptr;    //声明port_ptr为PORT结构体类型指针 
    GPIO_MemMapPtr gpio_ptr;    //声明port_ptr为GPIO结构体类型指针
    uint_8 port;
    uint_8 pin;
    gpio_port_pin_resolution(port_pin , &port , &pin);
     b92:	1dbb      	adds	r3, r7, #6
     b94:	8819      	ldrh	r1, [r3, #0]
     b96:	1c3a      	adds	r2, r7, #0
     b98:	320f      	adds	r2, #15
     b9a:	1c3b      	adds	r3, r7, #0
     b9c:	330e      	adds	r3, #14
     b9e:	1c08      	adds	r0, r1, #0
     ba0:	1c11      	adds	r1, r2, #0
     ba2:	1c1a      	adds	r2, r3, #0
     ba4:	f7ff ffd2 	bl	b4c <gpio_port_pin_resolution>
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/gpio/gpio.c:53
    
    
    //根据带入参数port，给局部变量port_ptr、gpio_ptr赋值（获得两个基地址）
    port_ptr = PORT_ARR[port];  //获得PORT模块相应口基地址
     ba8:	1c3b      	adds	r3, r7, #0
     baa:	330f      	adds	r3, #15
     bac:	781b      	ldrb	r3, [r3, #0]
     bae:	1c1a      	adds	r2, r3, #0
     bb0:	4b22      	ldr	r3, [pc, #136]	; (c3c <gpio_init+0xbc>)
     bb2:	0092      	lsls	r2, r2, #2
     bb4:	58d3      	ldr	r3, [r2, r3]
     bb6:	617b      	str	r3, [r7, #20]
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/gpio/gpio.c:54
    gpio_ptr = GPIO_ARR[port];  //获得GPIO模块相应口基地址
     bb8:	1c3b      	adds	r3, r7, #0
     bba:	330f      	adds	r3, #15
     bbc:	781b      	ldrb	r3, [r3, #0]
     bbe:	1c1a      	adds	r2, r3, #0
     bc0:	4b1f      	ldr	r3, [pc, #124]	; (c40 <gpio_init+0xc0>)
     bc2:	0092      	lsls	r2, r2, #2
     bc4:	58d3      	ldr	r3, [r2, r3]
     bc6:	613b      	str	r3, [r7, #16]
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/gpio/gpio.c:59
    
    //根据带入参数pin,指定该引脚功能为GPIO功能（即令引脚控制寄存器的MUX=0b001）

//    PORT_PCR_REG(port_ptr, pin) &= ~PORT_PCR_MUX_MASK;
    PORT_PCR_REG(port_ptr, pin) |= PORT_PCR_MUX(1);
     bc8:	1c3b      	adds	r3, r7, #0
     bca:	330e      	adds	r3, #14
     bcc:	781b      	ldrb	r3, [r3, #0]
     bce:	1c1a      	adds	r2, r3, #0
     bd0:	1c3b      	adds	r3, r7, #0
     bd2:	330e      	adds	r3, #14
     bd4:	781b      	ldrb	r3, [r3, #0]
     bd6:	1c19      	adds	r1, r3, #0
     bd8:	697b      	ldr	r3, [r7, #20]
     bda:	0089      	lsls	r1, r1, #2
     bdc:	58cb      	ldr	r3, [r1, r3]
     bde:	2180      	movs	r1, #128	; 0x80
     be0:	0049      	lsls	r1, r1, #1
     be2:	4319      	orrs	r1, r3
     be4:	697b      	ldr	r3, [r7, #20]
     be6:	0092      	lsls	r2, r2, #2
     be8:	50d1      	str	r1, [r2, r3]
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/gpio/gpio.c:62
    
      //根据带入参数dir，决定引脚为输出还是输入
    if (1 == dir)   //希望为输出
     bea:	1d7b      	adds	r3, r7, #5
     bec:	781b      	ldrb	r3, [r3, #0]
     bee:	2b01      	cmp	r3, #1
     bf0:	d114      	bne.n	c1c <gpio_init+0x9c>
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/gpio/gpio.c:64
    {
        BSET(pin,gpio_ptr->PDDR);     //数据方向寄存器的pin位=1，定义为输出
     bf2:	693b      	ldr	r3, [r7, #16]
     bf4:	695a      	ldr	r2, [r3, #20]
     bf6:	1c3b      	adds	r3, r7, #0
     bf8:	330e      	adds	r3, #14
     bfa:	781b      	ldrb	r3, [r3, #0]
     bfc:	2101      	movs	r1, #1
     bfe:	1c08      	adds	r0, r1, #0
     c00:	4098      	lsls	r0, r3
     c02:	1c03      	adds	r3, r0, #0
     c04:	431a      	orrs	r2, r3
     c06:	693b      	ldr	r3, [r7, #16]
     c08:	615a      	str	r2, [r3, #20]
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/gpio/gpio.c:65
        gpio_set(port_pin, state);   //调用gpio_set函数，设定引脚初始状态
     c0a:	1dbb      	adds	r3, r7, #6
     c0c:	881a      	ldrh	r2, [r3, #0]
     c0e:	1d3b      	adds	r3, r7, #4
     c10:	781b      	ldrb	r3, [r3, #0]
     c12:	1c10      	adds	r0, r2, #0
     c14:	1c19      	adds	r1, r3, #0
     c16:	f000 f815 	bl	c44 <gpio_set>
     c1a:	e00c      	b.n	c36 <gpio_init+0xb6>
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/gpio/gpio.c:68
    }
    else           //希望为输入
        BCLR(pin,gpio_ptr->PDDR);  //数据方向寄存器的pin位=0，定义为输入
     c1c:	693b      	ldr	r3, [r7, #16]
     c1e:	695b      	ldr	r3, [r3, #20]
     c20:	1c3a      	adds	r2, r7, #0
     c22:	320e      	adds	r2, #14
     c24:	7812      	ldrb	r2, [r2, #0]
     c26:	2101      	movs	r1, #1
     c28:	1c08      	adds	r0, r1, #0
     c2a:	4090      	lsls	r0, r2
     c2c:	1c02      	adds	r2, r0, #0
     c2e:	43d2      	mvns	r2, r2
     c30:	401a      	ands	r2, r3
     c32:	693b      	ldr	r3, [r7, #16]
     c34:	615a      	str	r2, [r3, #20]
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/gpio/gpio.c:69
}
     c36:	46bd      	mov	sp, r7
     c38:	b006      	add	sp, #24
     c3a:	bd80      	pop	{r7, pc}
     c3c:	00001adc 	.word	0x00001adc
     c40:	00001af0 	.word	0x00001af0

00000c44 <gpio_set>:
gpio_set():
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/gpio/gpio.c:79
//参数说明：port_pin：端口号|引脚号（例：PORTB|(5) 表示为B口5号脚）
//         state：引脚初始状态（0=低电平，1=高电平）
//功能概要：设定引脚状态为低电平或高电平
//===========================================================================
void gpio_set(uint_16 port_pin, uint_8 state)
{
     c44:	b580      	push	{r7, lr}
     c46:	b084      	sub	sp, #16
     c48:	af00      	add	r7, sp, #0
     c4a:	1c0a      	adds	r2, r1, #0
     c4c:	1dbb      	adds	r3, r7, #6
     c4e:	1c01      	adds	r1, r0, #0
     c50:	8019      	strh	r1, [r3, #0]
     c52:	1d7b      	adds	r3, r7, #5
     c54:	701a      	strb	r2, [r3, #0]
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/gpio/gpio.c:83
    GPIO_MemMapPtr gpio_ptr;    //声明port_ptr为GPIO结构体类型指针
    uint_8 port;
    uint_8 pin;
    gpio_port_pin_resolution(port_pin , &port , &pin);
     c56:	1dbb      	adds	r3, r7, #6
     c58:	8819      	ldrh	r1, [r3, #0]
     c5a:	1c3a      	adds	r2, r7, #0
     c5c:	320b      	adds	r2, #11
     c5e:	1c3b      	adds	r3, r7, #0
     c60:	330a      	adds	r3, #10
     c62:	1c08      	adds	r0, r1, #0
     c64:	1c11      	adds	r1, r2, #0
     c66:	1c1a      	adds	r2, r3, #0
     c68:	f7ff ff70 	bl	b4c <gpio_port_pin_resolution>
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/gpio/gpio.c:86
    
    //根据带入参数port，给局部变量gpio_ptr赋值（GPIO基地址）
    gpio_ptr = GPIO_ARR[port]; 
     c6c:	1c3b      	adds	r3, r7, #0
     c6e:	330b      	adds	r3, #11
     c70:	781b      	ldrb	r3, [r3, #0]
     c72:	1c1a      	adds	r2, r3, #0
     c74:	4b12      	ldr	r3, [pc, #72]	; (cc0 <gpio_set+0x7c>)
     c76:	0092      	lsls	r2, r2, #2
     c78:	58d3      	ldr	r3, [r2, r3]
     c7a:	60fb      	str	r3, [r7, #12]
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/gpio/gpio.c:89
    
    //根据带入参数state，决定引脚为输出1还是0
    if (1==state)
     c7c:	1d7b      	adds	r3, r7, #5
     c7e:	781b      	ldrb	r3, [r3, #0]
     c80:	2b01      	cmp	r3, #1
     c82:	d10c      	bne.n	c9e <gpio_set+0x5a>
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/gpio/gpio.c:90
        {BSET(pin,gpio_ptr->PDOR);}
     c84:	68fb      	ldr	r3, [r7, #12]
     c86:	681a      	ldr	r2, [r3, #0]
     c88:	1c3b      	adds	r3, r7, #0
     c8a:	330a      	adds	r3, #10
     c8c:	781b      	ldrb	r3, [r3, #0]
     c8e:	2101      	movs	r1, #1
     c90:	1c08      	adds	r0, r1, #0
     c92:	4098      	lsls	r0, r3
     c94:	1c03      	adds	r3, r0, #0
     c96:	431a      	orrs	r2, r3
     c98:	68fb      	ldr	r3, [r7, #12]
     c9a:	601a      	str	r2, [r3, #0]
     c9c:	e00c      	b.n	cb8 <gpio_set+0x74>
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/gpio/gpio.c:92
    else
        {BCLR(pin,gpio_ptr->PDOR);}
     c9e:	68fb      	ldr	r3, [r7, #12]
     ca0:	681b      	ldr	r3, [r3, #0]
     ca2:	1c3a      	adds	r2, r7, #0
     ca4:	320a      	adds	r2, #10
     ca6:	7812      	ldrb	r2, [r2, #0]
     ca8:	2101      	movs	r1, #1
     caa:	1c08      	adds	r0, r1, #0
     cac:	4090      	lsls	r0, r2
     cae:	1c02      	adds	r2, r0, #0
     cb0:	43d2      	mvns	r2, r2
     cb2:	401a      	ands	r2, r3
     cb4:	68fb      	ldr	r3, [r7, #12]
     cb6:	601a      	str	r2, [r3, #0]
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/gpio/gpio.c:93
}
     cb8:	46bd      	mov	sp, r7
     cba:	b004      	add	sp, #16
     cbc:	bd80      	pop	{r7, pc}
     cbe:	46c0      	nop			; (mov r8, r8)
     cc0:	00001af0 	.word	0x00001af0

00000cc4 <gpio_reverse>:
gpio_reverse():
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/gpio/gpio.c:122
//函数返回：无
//参数说明：port_pin：端口号|引脚号（例：PORTB|(5) 表示为B口5号脚）
//功能概要：反转指定引脚输出状态。
//===========================================================================
void gpio_reverse(uint_16 port_pin)
{
     cc4:	b580      	push	{r7, lr}
     cc6:	b084      	sub	sp, #16
     cc8:	af00      	add	r7, sp, #0
     cca:	1c02      	adds	r2, r0, #0
     ccc:	1dbb      	adds	r3, r7, #6
     cce:	801a      	strh	r2, [r3, #0]
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/gpio/gpio.c:126
    GPIO_MemMapPtr gpio_ptr;    //声明port_ptr为GPIO结构体类型指针（首地址）
    uint_8 port;
    uint_8 pin;
    gpio_port_pin_resolution(port_pin , &port , &pin);
     cd0:	1dbb      	adds	r3, r7, #6
     cd2:	8819      	ldrh	r1, [r3, #0]
     cd4:	1c3a      	adds	r2, r7, #0
     cd6:	320b      	adds	r2, #11
     cd8:	1c3b      	adds	r3, r7, #0
     cda:	330a      	adds	r3, #10
     cdc:	1c08      	adds	r0, r1, #0
     cde:	1c11      	adds	r1, r2, #0
     ce0:	1c1a      	adds	r2, r3, #0
     ce2:	f7ff ff33 	bl	b4c <gpio_port_pin_resolution>
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/gpio/gpio.c:129
    
    //根据带入参数port，给局部变量port_ptr赋值（GPIO基地址）
    gpio_ptr = GPIO_ARR[port]; 
     ce6:	1c3b      	adds	r3, r7, #0
     ce8:	330b      	adds	r3, #11
     cea:	781b      	ldrb	r3, [r3, #0]
     cec:	1c1a      	adds	r2, r3, #0
     cee:	4b09      	ldr	r3, [pc, #36]	; (d14 <gpio_reverse+0x50>)
     cf0:	0092      	lsls	r2, r2, #2
     cf2:	58d3      	ldr	r3, [r2, r3]
     cf4:	60fb      	str	r3, [r7, #12]
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/gpio/gpio.c:132
    
    //反转指定引脚输出状态
    BSET(pin,gpio_ptr->PTOR);
     cf6:	68fb      	ldr	r3, [r7, #12]
     cf8:	68da      	ldr	r2, [r3, #12]
     cfa:	1c3b      	adds	r3, r7, #0
     cfc:	330a      	adds	r3, #10
     cfe:	781b      	ldrb	r3, [r3, #0]
     d00:	2101      	movs	r1, #1
     d02:	1c08      	adds	r0, r1, #0
     d04:	4098      	lsls	r0, r3
     d06:	1c03      	adds	r3, r0, #0
     d08:	431a      	orrs	r2, r3
     d0a:	68fb      	ldr	r3, [r7, #12]
     d0c:	60da      	str	r2, [r3, #12]
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/gpio/gpio.c:133
}
     d0e:	46bd      	mov	sp, r7
     d10:	b004      	add	sp, #16
     d12:	bd80      	pop	{r7, pc}
     d14:	00001af0 	.word	0x00001af0

00000d18 <usb_init>:
usb_init():
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:248
//功  能: USB模块初始
//参  数:str:设备序列号
//返  回: 无
//=========================================================================
void usb_init(uint_8 str[])
{
     d18:	b580      	push	{r7, lr}
     d1a:	b082      	sub	sp, #8
     d1c:	af00      	add	r7, sp, #0
     d1e:	6078      	str	r0, [r7, #4]
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:250
    //后面加0x200UL，防止占用rom区
    BDTtable = (tBDT *)((( uint_32 ) BDT & 0xFFFFFE00UL)+0x200UL);
     d20:	4b58      	ldr	r3, [pc, #352]	; (e84 <usb_init+0x16c>)
     d22:	0a5b      	lsrs	r3, r3, #9
     d24:	025b      	lsls	r3, r3, #9
     d26:	2280      	movs	r2, #128	; 0x80
     d28:	0092      	lsls	r2, r2, #2
     d2a:	189b      	adds	r3, r3, r2
     d2c:	1c1a      	adds	r2, r3, #0
     d2e:	4b56      	ldr	r3, [pc, #344]	; (e88 <usb_init+0x170>)
     d30:	601a      	str	r2, [r3, #0]
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:252
    //USB相关字符串初始化
    USB_String_Table.String_Descriptor0=String_Descriptor0;
     d32:	4b56      	ldr	r3, [pc, #344]	; (e8c <usb_init+0x174>)
     d34:	4a56      	ldr	r2, [pc, #344]	; (e90 <usb_init+0x178>)
     d36:	601a      	str	r2, [r3, #0]
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:253
    USB_String_Table.String_Descriptor1=String_Descriptor1;
     d38:	4b54      	ldr	r3, [pc, #336]	; (e8c <usb_init+0x174>)
     d3a:	4a56      	ldr	r2, [pc, #344]	; (e94 <usb_init+0x17c>)
     d3c:	605a      	str	r2, [r3, #4]
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:254
    USB_String_Table.String_Descriptor2=String_Descriptor2;
     d3e:	4b53      	ldr	r3, [pc, #332]	; (e8c <usb_init+0x174>)
     d40:	4a55      	ldr	r2, [pc, #340]	; (e98 <usb_init+0x180>)
     d42:	609a      	str	r2, [r3, #8]
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:255
    USB_String_Table.Device_Name=str;
     d44:	4b51      	ldr	r3, [pc, #324]	; (e8c <usb_init+0x174>)
     d46:	687a      	ldr	r2, [r7, #4]
     d48:	60da      	str	r2, [r3, #12]
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:259
    //将端点0接收奇缓冲区的地址 存储到 setup数据包 的指针对象Setup_Pkt中
    //便于端点0将接收到的PC发来的setup包
    //指向端点0的接收奇缓冲区首地址
    Setup_Pkt=(tUSB_Setup*)BD_BufferPointer[bEP0OUT_ODD];
     d4a:	4b54      	ldr	r3, [pc, #336]	; (e9c <usb_init+0x184>)
     d4c:	681a      	ldr	r2, [r3, #0]
     d4e:	4b54      	ldr	r3, [pc, #336]	; (ea0 <usb_init+0x188>)
     d50:	601a      	str	r2, [r3, #0]
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:260
    gu8USB_State=uPOWER;   //USB设备处于上电状态
     d52:	4b54      	ldr	r3, [pc, #336]	; (ea4 <usb_init+0x18c>)
     d54:	2200      	movs	r2, #0
     d56:	701a      	strb	r2, [r3, #0]
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:262
    //USB_FMC_ACC_ENABLE;
    USB_REG_SET_ENABLE;
     d58:	4b53      	ldr	r3, [pc, #332]	; (ea8 <usb_init+0x190>)
     d5a:	4a53      	ldr	r2, [pc, #332]	; (ea8 <usb_init+0x190>)
     d5c:	6812      	ldr	r2, [r2, #0]
     d5e:	2180      	movs	r1, #128	; 0x80
     d60:	0609      	lsls	r1, r1, #24
     d62:	430a      	orrs	r2, r1
     d64:	601a      	str	r2, [r3, #0]
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:263
    USB_REG_CLEAR_STDBY;
     d66:	4b50      	ldr	r3, [pc, #320]	; (ea8 <usb_init+0x190>)
     d68:	4a4f      	ldr	r2, [pc, #316]	; (ea8 <usb_init+0x190>)
     d6a:	6811      	ldr	r1, [r2, #0]
     d6c:	4a4f      	ldr	r2, [pc, #316]	; (eac <usb_init+0x194>)
     d6e:	400a      	ands	r2, r1
     d70:	601a      	str	r2, [r3, #0]
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:265
    //MPU_CESR=0;禁止MPU
    FLAG_SET(SIM_SOPT2_PLLFLLSEL_SHIFT,SIM_SOPT2);  // 使能PLL输出
     d72:	4a4d      	ldr	r2, [pc, #308]	; (ea8 <usb_init+0x190>)
     d74:	494c      	ldr	r1, [pc, #304]	; (ea8 <usb_init+0x190>)
     d76:	4b4e      	ldr	r3, [pc, #312]	; (eb0 <usb_init+0x198>)
     d78:	58cb      	ldr	r3, [r1, r3]
     d7a:	2180      	movs	r1, #128	; 0x80
     d7c:	0249      	lsls	r1, r1, #9
     d7e:	4319      	orrs	r1, r3
     d80:	4b4b      	ldr	r3, [pc, #300]	; (eb0 <usb_init+0x198>)
     d82:	50d1      	str	r1, [r2, r3]
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:266
    FLAG_SET(SIM_SOPT2_USBSRC_SHIFT,SIM_SOPT2);     // 使能PLL/FLL为时钟源
     d84:	4a48      	ldr	r2, [pc, #288]	; (ea8 <usb_init+0x190>)
     d86:	4948      	ldr	r1, [pc, #288]	; (ea8 <usb_init+0x190>)
     d88:	4b49      	ldr	r3, [pc, #292]	; (eb0 <usb_init+0x198>)
     d8a:	58cb      	ldr	r3, [r1, r3]
     d8c:	2180      	movs	r1, #128	; 0x80
     d8e:	02c9      	lsls	r1, r1, #11
     d90:	4319      	orrs	r1, r3
     d92:	4b47      	ldr	r3, [pc, #284]	; (eb0 <usb_init+0x198>)
     d94:	50d1      	str	r1, [r2, r3]
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:268
    //SIM_CLKDIV2|=USB_FARCTIONAL_VALUE;   //USB分频因子设置
    SIM_SCGC4|=(SIM_SCGC4_USBOTG_MASK);    //USB模块时钟门使能
     d96:	4a44      	ldr	r2, [pc, #272]	; (ea8 <usb_init+0x190>)
     d98:	4943      	ldr	r1, [pc, #268]	; (ea8 <usb_init+0x190>)
     d9a:	4b46      	ldr	r3, [pc, #280]	; (eb4 <usb_init+0x19c>)
     d9c:	58cb      	ldr	r3, [r1, r3]
     d9e:	2180      	movs	r1, #128	; 0x80
     da0:	02c9      	lsls	r1, r1, #11
     da2:	4319      	orrs	r1, r3
     da4:	4b43      	ldr	r3, [pc, #268]	; (eb4 <usb_init+0x19c>)
     da6:	50d1      	str	r1, [r2, r3]
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:269
    enable_irq(USB_INTERRUPT_IRQ);         //使能USB模块IRQ中断
     da8:	2018      	movs	r0, #24
     daa:	f7ff fe7b 	bl	aa4 <enable_irq>
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:271
    //USB模块寄存器配置、 USB0_USBTRC0：收发控制寄存器
    USB0_USBTRC0 |= USB_USBTRC0_USBRESET_MASK;
     dae:	4a42      	ldr	r2, [pc, #264]	; (eb8 <usb_init+0x1a0>)
     db0:	4941      	ldr	r1, [pc, #260]	; (eb8 <usb_init+0x1a0>)
     db2:	2386      	movs	r3, #134	; 0x86
     db4:	005b      	lsls	r3, r3, #1
     db6:	5ccb      	ldrb	r3, [r1, r3]
     db8:	b2db      	uxtb	r3, r3
     dba:	2180      	movs	r1, #128	; 0x80
     dbc:	4249      	negs	r1, r1
     dbe:	430b      	orrs	r3, r1
     dc0:	b2d9      	uxtb	r1, r3
     dc2:	2386      	movs	r3, #134	; 0x86
     dc4:	005b      	lsls	r3, r3, #1
     dc6:	54d1      	strb	r1, [r2, r3]
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:273
    //等待USB模块复位发生，发生就退出循环
    while(FLAG_CHK(USB_USBTRC0_USBRESET_SHIFT,USB0_USBTRC0)){};
     dc8:	46c0      	nop			; (mov r8, r8)
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:273 (discriminator 1)
     dca:	4a3b      	ldr	r2, [pc, #236]	; (eb8 <usb_init+0x1a0>)
     dcc:	2386      	movs	r3, #134	; 0x86
     dce:	005b      	lsls	r3, r3, #1
     dd0:	5cd3      	ldrb	r3, [r2, r3]
     dd2:	b2db      	uxtb	r3, r3
     dd4:	b2db      	uxtb	r3, r3
     dd6:	b25b      	sxtb	r3, r3
     dd8:	2b00      	cmp	r3, #0
     dda:	dbf6      	blt.n	dca <usb_init+0xb2>
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:277
    //配置BDTPAGE1，2,3 寄存器，设置BDT基址寄存器
    //( 低9位  是默认512 字节的偏移) 512 = 16 * 4 * 8
    //8位表示: 4个字节的控制状态，4 个字节的缓冲区地址
    USB0_BDTPAGE1=(uint_8)((uint_32)BDTtable>>8);
     ddc:	4a36      	ldr	r2, [pc, #216]	; (eb8 <usb_init+0x1a0>)
     dde:	4b2a      	ldr	r3, [pc, #168]	; (e88 <usb_init+0x170>)
     de0:	681b      	ldr	r3, [r3, #0]
     de2:	0a1b      	lsrs	r3, r3, #8
     de4:	b2d9      	uxtb	r1, r3
     de6:	239c      	movs	r3, #156	; 0x9c
     de8:	54d1      	strb	r1, [r2, r3]
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:278
    USB0_BDTPAGE2=(uint_8)((uint_32)BDTtable>>16);
     dea:	4a33      	ldr	r2, [pc, #204]	; (eb8 <usb_init+0x1a0>)
     dec:	4b26      	ldr	r3, [pc, #152]	; (e88 <usb_init+0x170>)
     dee:	681b      	ldr	r3, [r3, #0]
     df0:	0c1b      	lsrs	r3, r3, #16
     df2:	b2d9      	uxtb	r1, r3
     df4:	23b0      	movs	r3, #176	; 0xb0
     df6:	54d1      	strb	r1, [r2, r3]
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:279
    USB0_BDTPAGE3=(uint_8)((uint_32)BDTtable>>24);
     df8:	4a2f      	ldr	r2, [pc, #188]	; (eb8 <usb_init+0x1a0>)
     dfa:	4b23      	ldr	r3, [pc, #140]	; (e88 <usb_init+0x170>)
     dfc:	681b      	ldr	r3, [r3, #0]
     dfe:	0e1b      	lsrs	r3, r3, #24
     e00:	b2d9      	uxtb	r1, r3
     e02:	23b4      	movs	r3, #180	; 0xb4
     e04:	54d1      	strb	r1, [r2, r3]
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:283
    //清除USB模块复位标志   （之前发生复位会使该位置1）
    //检测到USB复位，置1，通知MPU向地址寄存器写入0x00，
    //并使能端点0
    FLAG_SET(USB_ISTAT_USBRST_SHIFT,USB0_ISTAT);
     e06:	4a2c      	ldr	r2, [pc, #176]	; (eb8 <usb_init+0x1a0>)
     e08:	492b      	ldr	r1, [pc, #172]	; (eb8 <usb_init+0x1a0>)
     e0a:	2380      	movs	r3, #128	; 0x80
     e0c:	5ccb      	ldrb	r3, [r1, r3]
     e0e:	b2db      	uxtb	r3, r3
     e10:	2101      	movs	r1, #1
     e12:	430b      	orrs	r3, r1
     e14:	b2d9      	uxtb	r1, r3
     e16:	2380      	movs	r3, #128	; 0x80
     e18:	54d1      	strb	r1, [r2, r3]
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:285
    //使能USB模块复位中断
    FLAG_SET(USB_INTEN_USBRSTEN_SHIFT,USB0_INTEN);
     e1a:	4a27      	ldr	r2, [pc, #156]	; (eb8 <usb_init+0x1a0>)
     e1c:	4926      	ldr	r1, [pc, #152]	; (eb8 <usb_init+0x1a0>)
     e1e:	2384      	movs	r3, #132	; 0x84
     e20:	5ccb      	ldrb	r3, [r1, r3]
     e22:	b2db      	uxtb	r3, r3
     e24:	2101      	movs	r1, #1
     e26:	430b      	orrs	r3, r1
     e28:	b2d9      	uxtb	r1, r3
     e2a:	2384      	movs	r3, #132	; 0x84
     e2c:	54d1      	strb	r1, [r2, r3]
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:286
    USB0_USBCTRL = 0x40;    //USB的SE0信号，两根数据线被拉低
     e2e:	4a22      	ldr	r2, [pc, #136]	; (eb8 <usb_init+0x1a0>)
     e30:	2380      	movs	r3, #128	; 0x80
     e32:	005b      	lsls	r3, r3, #1
     e34:	2140      	movs	r1, #64	; 0x40
     e36:	54d1      	strb	r1, [r2, r3]
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:287
    USB0_USBTRC0 |= 0x40;   //必须：强制设置第6位为1，USB收发控制寄存器
     e38:	4a1f      	ldr	r2, [pc, #124]	; (eb8 <usb_init+0x1a0>)
     e3a:	491f      	ldr	r1, [pc, #124]	; (eb8 <usb_init+0x1a0>)
     e3c:	2386      	movs	r3, #134	; 0x86
     e3e:	005b      	lsls	r3, r3, #1
     e40:	5ccb      	ldrb	r3, [r1, r3]
     e42:	b2db      	uxtb	r3, r3
     e44:	2140      	movs	r1, #64	; 0x40
     e46:	430b      	orrs	r3, r1
     e48:	b2d9      	uxtb	r1, r3
     e4a:	2386      	movs	r3, #134	; 0x86
     e4c:	005b      	lsls	r3, r3, #1
     e4e:	54d1      	strb	r1, [r2, r3]
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:289
    //上拉使能，这样主机才能识别到设备并对其进行配置
    FLAG_SET(USB_CONTROL_DPPULLUPNONOTG_SHIFT,USB0_CONTROL);
     e50:	4a19      	ldr	r2, [pc, #100]	; (eb8 <usb_init+0x1a0>)
     e52:	4919      	ldr	r1, [pc, #100]	; (eb8 <usb_init+0x1a0>)
     e54:	2384      	movs	r3, #132	; 0x84
     e56:	005b      	lsls	r3, r3, #1
     e58:	5ccb      	ldrb	r3, [r1, r3]
     e5a:	b2db      	uxtb	r3, r3
     e5c:	2110      	movs	r1, #16
     e5e:	430b      	orrs	r3, r1
     e60:	b2d9      	uxtb	r1, r3
     e62:	2384      	movs	r3, #132	; 0x84
     e64:	005b      	lsls	r3, r3, #1
     e66:	54d1      	strb	r1, [r2, r3]
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:290
    USB0_CTL |= 0x01;       //USB模块使能位
     e68:	4a13      	ldr	r2, [pc, #76]	; (eb8 <usb_init+0x1a0>)
     e6a:	4913      	ldr	r1, [pc, #76]	; (eb8 <usb_init+0x1a0>)
     e6c:	2394      	movs	r3, #148	; 0x94
     e6e:	5ccb      	ldrb	r3, [r1, r3]
     e70:	b2db      	uxtb	r3, r3
     e72:	2101      	movs	r1, #1
     e74:	430b      	orrs	r3, r1
     e76:	b2d9      	uxtb	r1, r3
     e78:	2394      	movs	r3, #148	; 0x94
     e7a:	54d1      	strb	r1, [r2, r3]
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:291
}
     e7c:	46bd      	mov	sp, r7
     e7e:	b002      	add	sp, #8
     e80:	bd80      	pop	{r7, pc}
     e82:	46c0      	nop			; (mov r8, r8)
     e84:	1ffff3bc 	.word	0x1ffff3bc
     e88:	1ffff7bc 	.word	0x1ffff7bc
     e8c:	1ffff7c0 	.word	0x1ffff7c0
     e90:	1ffff044 	.word	0x1ffff044
     e94:	1ffff048 	.word	0x1ffff048
     e98:	1ffff05c 	.word	0x1ffff05c
     e9c:	1ffff094 	.word	0x1ffff094
     ea0:	1ffff2e8 	.word	0x1ffff2e8
     ea4:	1ffff2e4 	.word	0x1ffff2e4
     ea8:	40047000 	.word	0x40047000
     eac:	bfffffff 	.word	0xbfffffff
     eb0:	00001004 	.word	0x00001004
     eb4:	00001034 	.word	0x00001034
     eb8:	40072000 	.word	0x40072000

00000ebc <usb_enumerate>:
usb_enumerate():
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:299
//功  能: USB枚举，用于处理USB设备复位后USB主机发送来的设备请求
//参  数：无
//返  回: 无
//=========================================================================
void usb_enumerate()
{
     ebc:	b580      	push	{r7, lr}
     ebe:	b082      	sub	sp, #8
     ec0:	af00      	add	r7, sp, #0
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:301
    uint_8 u8IN;
    u8IN=USB0_STAT & 0x08;      //u8IN表示端点0，最后更改的BD位于BDT的偶数行
     ec2:	4a0f      	ldr	r2, [pc, #60]	; (f00 <usb_enumerate+0x44>)
     ec4:	2390      	movs	r3, #144	; 0x90
     ec6:	5cd3      	ldrb	r3, [r2, r3]
     ec8:	b2d9      	uxtb	r1, r3
     eca:	1dfb      	adds	r3, r7, #7
     ecc:	2208      	movs	r2, #8
     ece:	400a      	ands	r2, r1
     ed0:	701a      	strb	r2, [r3, #0]
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:303
    //上行传输
    if(u8IN)
     ed2:	1dfb      	adds	r3, r7, #7
     ed4:	781b      	ldrb	r3, [r3, #0]
     ed6:	2b00      	cmp	r3, #0
     ed8:	d002      	beq.n	ee0 <usb_enumerate+0x24>
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:304
       usb_ep0_in_handler();
     eda:	f000 fce5 	bl	18a8 <usb_ep0_in_handler>
     ede:	e00c      	b.n	efa <usb_enumerate+0x3e>
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:309
    //下行传输
    else
    {
        //接收到 0x0D，表示是SETUP包
        if(BDTtable[bEP0OUT_ODD].Stat.RecPid.PID == mSETUP_TOKEN)
     ee0:	4b08      	ldr	r3, [pc, #32]	; (f04 <usb_enumerate+0x48>)
     ee2:	681b      	ldr	r3, [r3, #0]
     ee4:	781b      	ldrb	r3, [r3, #0]
     ee6:	069b      	lsls	r3, r3, #26
     ee8:	0f1b      	lsrs	r3, r3, #28
     eea:	b2db      	uxtb	r3, r3
     eec:	2b0d      	cmp	r3, #13
     eee:	d102      	bne.n	ef6 <usb_enumerate+0x3a>
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:310
            usb_setup_handler();
     ef0:	f000 fc3e 	bl	1770 <usb_setup_handler>
     ef4:	e001      	b.n	efa <usb_enumerate+0x3e>
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:312
        else
            usb_ep0_out_handler();
     ef6:	f000 fd17 	bl	1928 <usb_ep0_out_handler>
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:314
    }
}
     efa:	46bd      	mov	sp, r7
     efc:	b002      	add	sp, #8
     efe:	bd80      	pop	{r7, pc}
     f00:	40072000 	.word	0x40072000
     f04:	1ffff7bc 	.word	0x1ffff7bc

00000f08 <usb_send>:
usb_send():
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:326
//返  回: 实际发送的数据长度
//备  注：一次性传输的数据长度是端点所支持的最大数据长度（32字节），如果发送的数据长度
//      大于32字节，则分为多次传输。
//=========================================================================
uint_8 usb_send(uint_8 *buf,uint_8 *len)
{
     f08:	b580      	push	{r7, lr}
     f0a:	b086      	sub	sp, #24
     f0c:	af00      	add	r7, sp, #0
     f0e:	6078      	str	r0, [r7, #4]
     f10:	6039      	str	r1, [r7, #0]
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:329
    uint_16 i,counter;
    uint_8 *pBuffer;
    uint_32 vEP2Idx = 0;
     f12:	2300      	movs	r3, #0
     f14:	613b      	str	r3, [r7, #16]
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:330
    pBuffer = gu8EP2_IN_ODD_Buffer;
     f16:	4b49      	ldr	r3, [pc, #292]	; (103c <usb_send+0x134>)
     f18:	60fb      	str	r3, [r7, #12]
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:332
    //判断发送的数据长度是否大于端点所支持的最大数据长度
    if(*len > EP2_SIZE)
     f1a:	683b      	ldr	r3, [r7, #0]
     f1c:	781b      	ldrb	r3, [r3, #0]
     f1e:	2b20      	cmp	r3, #32
     f20:	d904      	bls.n	f2c <usb_send+0x24>
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:333
      counter = EP2_SIZE;
     f22:	1c3b      	adds	r3, r7, #0
     f24:	3314      	adds	r3, #20
     f26:	2220      	movs	r2, #32
     f28:	801a      	strh	r2, [r3, #0]
     f2a:	e004      	b.n	f36 <usb_send+0x2e>
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:335
    else
      counter = *len;
     f2c:	683b      	ldr	r3, [r7, #0]
     f2e:	781a      	ldrb	r2, [r3, #0]
     f30:	1c3b      	adds	r3, r7, #0
     f32:	3314      	adds	r3, #20
     f34:	801a      	strh	r2, [r3, #0]
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:337

    for(i=0; i<counter; i++, vEP2Idx++)
     f36:	1c3b      	adds	r3, r7, #0
     f38:	3316      	adds	r3, #22
     f3a:	2200      	movs	r2, #0
     f3c:	801a      	strh	r2, [r3, #0]
     f3e:	e013      	b.n	f68 <usb_send+0x60>
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:339 (discriminator 2)
      //将待发送数据拷贝到对应端点发送缓冲区
      pBuffer[i] = buf[vEP2Idx];
     f40:	1c3b      	adds	r3, r7, #0
     f42:	3316      	adds	r3, #22
     f44:	881b      	ldrh	r3, [r3, #0]
     f46:	68fa      	ldr	r2, [r7, #12]
     f48:	18d3      	adds	r3, r2, r3
     f4a:	6879      	ldr	r1, [r7, #4]
     f4c:	693a      	ldr	r2, [r7, #16]
     f4e:	188a      	adds	r2, r1, r2
     f50:	7812      	ldrb	r2, [r2, #0]
     f52:	701a      	strb	r2, [r3, #0]
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:337 (discriminator 2)
    if(*len > EP2_SIZE)
      counter = EP2_SIZE;
    else
      counter = *len;

    for(i=0; i<counter; i++, vEP2Idx++)
     f54:	1c3b      	adds	r3, r7, #0
     f56:	3316      	adds	r3, #22
     f58:	881a      	ldrh	r2, [r3, #0]
     f5a:	1c3b      	adds	r3, r7, #0
     f5c:	3316      	adds	r3, #22
     f5e:	3201      	adds	r2, #1
     f60:	801a      	strh	r2, [r3, #0]
     f62:	693b      	ldr	r3, [r7, #16]
     f64:	3301      	adds	r3, #1
     f66:	613b      	str	r3, [r7, #16]
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:337 (discriminator 1)
     f68:	1c3a      	adds	r2, r7, #0
     f6a:	3216      	adds	r2, #22
     f6c:	1c3b      	adds	r3, r7, #0
     f6e:	3314      	adds	r3, #20
     f70:	8812      	ldrh	r2, [r2, #0]
     f72:	881b      	ldrh	r3, [r3, #0]
     f74:	429a      	cmp	r2, r3
     f76:	d3e3      	bcc.n	f40 <usb_send+0x38>
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:341
      //将待发送数据拷贝到对应端点发送缓冲区
      pBuffer[i] = buf[vEP2Idx];

    BDTtable[bEP2IN_ODD].Cnt = counter;
     f78:	4b31      	ldr	r3, [pc, #196]	; (1040 <usb_send+0x138>)
     f7a:	681b      	ldr	r3, [r3, #0]
     f7c:	3350      	adds	r3, #80	; 0x50
     f7e:	1c3a      	adds	r2, r7, #0
     f80:	3214      	adds	r2, #20
     f82:	8812      	ldrh	r2, [r2, #0]
     f84:	805a      	strh	r2, [r3, #2]
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:343
    //异或 同0异1  vEP2State = kUDATA0  0x88
    vEP2State ^= 0x40;
     f86:	4b2f      	ldr	r3, [pc, #188]	; (1044 <usb_send+0x13c>)
     f88:	781b      	ldrb	r3, [r3, #0]
     f8a:	2240      	movs	r2, #64	; 0x40
     f8c:	4053      	eors	r3, r2
     f8e:	b2da      	uxtb	r2, r3
     f90:	4b2c      	ldr	r3, [pc, #176]	; (1044 <usb_send+0x13c>)
     f92:	701a      	strb	r2, [r3, #0]
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:345
    //表示USB拥有操控权，接收了DATA0包，当前作为ACK握手包
    BDTtable[bEP2IN_ODD].Stat._byte= vEP2State;
     f94:	4b2a      	ldr	r3, [pc, #168]	; (1040 <usb_send+0x138>)
     f96:	681b      	ldr	r3, [r3, #0]
     f98:	3350      	adds	r3, #80	; 0x50
     f9a:	4a2a      	ldr	r2, [pc, #168]	; (1044 <usb_send+0x13c>)
     f9c:	7812      	ldrb	r2, [r2, #0]
     f9e:	701a      	strb	r2, [r3, #0]
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:348

    //将未处理的数据存放到待发缓冲区
    *len = *len - counter;
     fa0:	683b      	ldr	r3, [r7, #0]
     fa2:	781a      	ldrb	r2, [r3, #0]
     fa4:	1c3b      	adds	r3, r7, #0
     fa6:	3314      	adds	r3, #20
     fa8:	881b      	ldrh	r3, [r3, #0]
     faa:	b2db      	uxtb	r3, r3
     fac:	1ad3      	subs	r3, r2, r3
     fae:	b2da      	uxtb	r2, r3
     fb0:	683b      	ldr	r3, [r7, #0]
     fb2:	701a      	strb	r2, [r3, #0]
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:349
    for(i = 0;i <(*len);i++)
     fb4:	1c3b      	adds	r3, r7, #0
     fb6:	3316      	adds	r3, #22
     fb8:	2200      	movs	r2, #0
     fba:	801a      	strh	r2, [r3, #0]
     fbc:	e016      	b.n	fec <usb_send+0xe4>
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:351 (discriminator 2)
    {
        buf[i] = buf[i + counter];
     fbe:	1c3b      	adds	r3, r7, #0
     fc0:	3316      	adds	r3, #22
     fc2:	881b      	ldrh	r3, [r3, #0]
     fc4:	687a      	ldr	r2, [r7, #4]
     fc6:	18d3      	adds	r3, r2, r3
     fc8:	1c3a      	adds	r2, r7, #0
     fca:	3216      	adds	r2, #22
     fcc:	8811      	ldrh	r1, [r2, #0]
     fce:	1c3a      	adds	r2, r7, #0
     fd0:	3214      	adds	r2, #20
     fd2:	8812      	ldrh	r2, [r2, #0]
     fd4:	188a      	adds	r2, r1, r2
     fd6:	6879      	ldr	r1, [r7, #4]
     fd8:	188a      	adds	r2, r1, r2
     fda:	7812      	ldrb	r2, [r2, #0]
     fdc:	701a      	strb	r2, [r3, #0]
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:349 (discriminator 2)
    //表示USB拥有操控权，接收了DATA0包，当前作为ACK握手包
    BDTtable[bEP2IN_ODD].Stat._byte= vEP2State;

    //将未处理的数据存放到待发缓冲区
    *len = *len - counter;
    for(i = 0;i <(*len);i++)
     fde:	1c3b      	adds	r3, r7, #0
     fe0:	3316      	adds	r3, #22
     fe2:	881a      	ldrh	r2, [r3, #0]
     fe4:	1c3b      	adds	r3, r7, #0
     fe6:	3316      	adds	r3, #22
     fe8:	3201      	adds	r2, #1
     fea:	801a      	strh	r2, [r3, #0]
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:349 (discriminator 1)
     fec:	683b      	ldr	r3, [r7, #0]
     fee:	781b      	ldrb	r3, [r3, #0]
     ff0:	1c3a      	adds	r2, r7, #0
     ff2:	3216      	adds	r2, #22
     ff4:	8812      	ldrh	r2, [r2, #0]
     ff6:	429a      	cmp	r2, r3
     ff8:	d3e1      	bcc.n	fbe <usb_send+0xb6>
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:355
    {
        buf[i] = buf[i + counter];
    }

    //延时一会等待数据发送完成
    for(i=0;i<5000;i++);
     ffa:	1c3b      	adds	r3, r7, #0
     ffc:	3316      	adds	r3, #22
     ffe:	2200      	movs	r2, #0
    1000:	801a      	strh	r2, [r3, #0]
    1002:	e006      	b.n	1012 <usb_send+0x10a>
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:355 (discriminator 2)
    1004:	1c3b      	adds	r3, r7, #0
    1006:	3316      	adds	r3, #22
    1008:	881a      	ldrh	r2, [r3, #0]
    100a:	1c3b      	adds	r3, r7, #0
    100c:	3316      	adds	r3, #22
    100e:	3201      	adds	r2, #1
    1010:	801a      	strh	r2, [r3, #0]
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:355 (discriminator 1)
    1012:	1c3b      	adds	r3, r7, #0
    1014:	3316      	adds	r3, #22
    1016:	881a      	ldrh	r2, [r3, #0]
    1018:	4b0b      	ldr	r3, [pc, #44]	; (1048 <usb_send+0x140>)
    101a:	429a      	cmp	r2, r3
    101c:	d9f2      	bls.n	1004 <usb_send+0xfc>
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:357

    if(counter)
    101e:	1c3b      	adds	r3, r7, #0
    1020:	3314      	adds	r3, #20
    1022:	881b      	ldrh	r3, [r3, #0]
    1024:	2b00      	cmp	r3, #0
    1026:	d004      	beq.n	1032 <usb_send+0x12a>
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:358
        return counter;
    1028:	1c3b      	adds	r3, r7, #0
    102a:	3314      	adds	r3, #20
    102c:	881b      	ldrh	r3, [r3, #0]
    102e:	b2db      	uxtb	r3, r3
    1030:	e000      	b.n	1034 <usb_send+0x12c>
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:360
    else
        return 0;
    1032:	2300      	movs	r3, #0
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:361
}
    1034:	1c18      	adds	r0, r3, #0
    1036:	46bd      	mov	sp, r7
    1038:	b006      	add	sp, #24
    103a:	bd80      	pop	{r7, pc}
    103c:	1ffff218 	.word	0x1ffff218
    1040:	1ffff7bc 	.word	0x1ffff7bc
    1044:	1ffff0d4 	.word	0x1ffff0d4
    1048:	00001387 	.word	0x00001387

0000104c <usb_recv>:
usb_recv():
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:371
//参  数: buf:接收数据缓冲区
//      len:函数返回时，带出接收的数据长度
//返  回: 成功：返回接收数据的长度；失败：返回0
//=========================================================================
uint_8 usb_recv(uint_8 *buf,uint_8 *len)
{
    104c:	b580      	push	{r7, lr}
    104e:	b084      	sub	sp, #16
    1050:	af00      	add	r7, sp, #0
    1052:	6078      	str	r0, [r7, #4]
    1054:	6039      	str	r1, [r7, #0]
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:374
    uint_8 i;
    uint_8 *pBuffer;
    *len=0;
    1056:	683b      	ldr	r3, [r7, #0]
    1058:	2200      	movs	r2, #0
    105a:	701a      	strb	r2, [r3, #0]
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:375
    pBuffer = gu8EP3_OUT_ODD_Buffer;
    105c:	4b26      	ldr	r3, [pc, #152]	; (10f8 <usb_recv+0xac>)
    105e:	60bb      	str	r3, [r7, #8]
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:377
    //接收到数据后，BD的BC字段是接收到数据的长度
    if(BDTtable[bEP3OUT_ODD].Cnt != 0)
    1060:	4b26      	ldr	r3, [pc, #152]	; (10fc <usb_recv+0xb0>)
    1062:	681b      	ldr	r3, [r3, #0]
    1064:	3360      	adds	r3, #96	; 0x60
    1066:	885b      	ldrh	r3, [r3, #2]
    1068:	2b00      	cmp	r3, #0
    106a:	d026      	beq.n	10ba <usb_recv+0x6e>
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:379
    {
        for(i = 0;i < BDTtable[bEP3OUT_ODD].Cnt;i++)
    106c:	1c3b      	adds	r3, r7, #0
    106e:	330f      	adds	r3, #15
    1070:	2200      	movs	r2, #0
    1072:	701a      	strb	r2, [r3, #0]
    1074:	e017      	b.n	10a6 <usb_recv+0x5a>
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:382 (discriminator 2)
        {
            //将对应端点接收缓冲区数据拷贝到接收数据区
            buf[(*len)] = pBuffer[i];
    1076:	683b      	ldr	r3, [r7, #0]
    1078:	781b      	ldrb	r3, [r3, #0]
    107a:	687a      	ldr	r2, [r7, #4]
    107c:	18d3      	adds	r3, r2, r3
    107e:	1c3a      	adds	r2, r7, #0
    1080:	320f      	adds	r2, #15
    1082:	7812      	ldrb	r2, [r2, #0]
    1084:	68b9      	ldr	r1, [r7, #8]
    1086:	188a      	adds	r2, r1, r2
    1088:	7812      	ldrb	r2, [r2, #0]
    108a:	701a      	strb	r2, [r3, #0]
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:383 (discriminator 2)
            (*len)+=1;
    108c:	683b      	ldr	r3, [r7, #0]
    108e:	781b      	ldrb	r3, [r3, #0]
    1090:	3301      	adds	r3, #1
    1092:	b2da      	uxtb	r2, r3
    1094:	683b      	ldr	r3, [r7, #0]
    1096:	701a      	strb	r2, [r3, #0]
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:379 (discriminator 2)
    *len=0;
    pBuffer = gu8EP3_OUT_ODD_Buffer;
    //接收到数据后，BD的BC字段是接收到数据的长度
    if(BDTtable[bEP3OUT_ODD].Cnt != 0)
    {
        for(i = 0;i < BDTtable[bEP3OUT_ODD].Cnt;i++)
    1098:	1c3b      	adds	r3, r7, #0
    109a:	330f      	adds	r3, #15
    109c:	781a      	ldrb	r2, [r3, #0]
    109e:	1c3b      	adds	r3, r7, #0
    10a0:	330f      	adds	r3, #15
    10a2:	3201      	adds	r2, #1
    10a4:	701a      	strb	r2, [r3, #0]
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:379 (discriminator 1)
    10a6:	1c3b      	adds	r3, r7, #0
    10a8:	330f      	adds	r3, #15
    10aa:	781b      	ldrb	r3, [r3, #0]
    10ac:	b29a      	uxth	r2, r3
    10ae:	4b13      	ldr	r3, [pc, #76]	; (10fc <usb_recv+0xb0>)
    10b0:	681b      	ldr	r3, [r3, #0]
    10b2:	3360      	adds	r3, #96	; 0x60
    10b4:	885b      	ldrh	r3, [r3, #2]
    10b6:	429a      	cmp	r2, r3
    10b8:	d3dd      	bcc.n	1076 <usb_recv+0x2a>
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:387
            buf[(*len)] = pBuffer[i];
            (*len)+=1;
        }
    }
    //异或 同0异1  vEP2State = kUDATA1  0xC8
    vEP3State ^=0x40;
    10ba:	4b11      	ldr	r3, [pc, #68]	; (1100 <usb_recv+0xb4>)
    10bc:	781b      	ldrb	r3, [r3, #0]
    10be:	2240      	movs	r2, #64	; 0x40
    10c0:	4053      	eors	r3, r2
    10c2:	b2da      	uxtb	r2, r3
    10c4:	4b0e      	ldr	r3, [pc, #56]	; (1100 <usb_recv+0xb4>)
    10c6:	701a      	strb	r2, [r3, #0]
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:389
    //表示USB拥有操控权，接收了DATA1包，作为ACK握手包
    BDTtable[bEP3OUT_ODD].Stat._byte=vEP3State;
    10c8:	4b0c      	ldr	r3, [pc, #48]	; (10fc <usb_recv+0xb0>)
    10ca:	681b      	ldr	r3, [r3, #0]
    10cc:	3360      	adds	r3, #96	; 0x60
    10ce:	4a0c      	ldr	r2, [pc, #48]	; (1100 <usb_recv+0xb4>)
    10d0:	7812      	ldrb	r2, [r2, #0]
    10d2:	701a      	strb	r2, [r3, #0]
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:390
    BDTtable[bEP3OUT_ODD].Cnt = EP3_SIZE;
    10d4:	4b09      	ldr	r3, [pc, #36]	; (10fc <usb_recv+0xb0>)
    10d6:	681b      	ldr	r3, [r3, #0]
    10d8:	3360      	adds	r3, #96	; 0x60
    10da:	2220      	movs	r2, #32
    10dc:	805a      	strh	r2, [r3, #2]
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:391
    if(*len>0)  //接收数据成功
    10de:	683b      	ldr	r3, [r7, #0]
    10e0:	781b      	ldrb	r3, [r3, #0]
    10e2:	2b00      	cmp	r3, #0
    10e4:	d002      	beq.n	10ec <usb_recv+0xa0>
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:392
        return (uint_8)*len;
    10e6:	683b      	ldr	r3, [r7, #0]
    10e8:	781b      	ldrb	r3, [r3, #0]
    10ea:	e000      	b.n	10ee <usb_recv+0xa2>
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:394
    else
        return 0;
    10ec:	2300      	movs	r3, #0
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:396

}
    10ee:	1c18      	adds	r0, r3, #0
    10f0:	46bd      	mov	sp, r7
    10f2:	b004      	add	sp, #16
    10f4:	bd80      	pop	{r7, pc}
    10f6:	46c0      	nop			; (mov r8, r8)
    10f8:	1ffff258 	.word	0x1ffff258
    10fc:	1ffff7bc 	.word	0x1ffff7bc
    1100:	1ffff0d5 	.word	0x1ffff0d5

00001104 <usb_isr_handler>:
usb_isr_handler():
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:406
//功  能: 处理非令牌完成中断
//参  数: isr_type：USB中断类型
//返  回: 无
//=========================================================================
void usb_isr_handler(uint_8 isr_type)
{
    1104:	b580      	push	{r7, lr}
    1106:	b082      	sub	sp, #8
    1108:	af00      	add	r7, sp, #0
    110a:	1c02      	adds	r2, r0, #0
    110c:	1dfb      	adds	r3, r7, #7
    110e:	701a      	strb	r2, [r3, #0]
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:407
    switch(isr_type)
    1110:	1dfb      	adds	r3, r7, #7
    1112:	781b      	ldrb	r3, [r3, #0]
    1114:	2b05      	cmp	r3, #5
    1116:	d824      	bhi.n	1162 <usb_isr_handler+0x5e>
    1118:	009a      	lsls	r2, r3, #2
    111a:	4b13      	ldr	r3, [pc, #76]	; (1168 <usb_isr_handler+0x64>)
    111c:	18d3      	adds	r3, r2, r3
    111e:	681b      	ldr	r3, [r3, #0]
    1120:	469f      	mov	pc, r3
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:412
    {
        //复位中断
        case USB_RST_INT:
            //复位中断处理函数
            usb_reset_handler();
    1122:	f000 f883 	bl	122c <usb_reset_handler>
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:413
        break;
    1126:	e01c      	b.n	1162 <usb_isr_handler+0x5e>
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:416
        //SOF中断
        case USB_SOF_INT:
            USB0_ISTAT = USB_ISTAT_SOFTOK_MASK;
    1128:	4a10      	ldr	r2, [pc, #64]	; (116c <usb_isr_handler+0x68>)
    112a:	2380      	movs	r3, #128	; 0x80
    112c:	2104      	movs	r1, #4
    112e:	54d1      	strb	r1, [r2, r3]
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:417
        break;
    1130:	e017      	b.n	1162 <usb_isr_handler+0x5e>
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:421
        //STALL中断
        case USB_STALL_INT:
            //STALL中断处理函数
            usb_stall_handler();
    1132:	f000 f857 	bl	11e4 <usb_stall_handler>
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:422
        break;
    1136:	e014      	b.n	1162 <usb_isr_handler+0x5e>
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:426
        //SLEEP中断
        case USB_SLEEP_INT:
            //清SLEEP标志
            FLAG_SET(USB_ISTAT_SLEEP_SHIFT,USB0_ISTAT);
    1138:	4a0c      	ldr	r2, [pc, #48]	; (116c <usb_isr_handler+0x68>)
    113a:	490c      	ldr	r1, [pc, #48]	; (116c <usb_isr_handler+0x68>)
    113c:	2380      	movs	r3, #128	; 0x80
    113e:	5ccb      	ldrb	r3, [r1, r3]
    1140:	b2db      	uxtb	r3, r3
    1142:	2110      	movs	r1, #16
    1144:	430b      	orrs	r3, r1
    1146:	b2d9      	uxtb	r1, r3
    1148:	2380      	movs	r3, #128	; 0x80
    114a:	54d1      	strb	r1, [r2, r3]
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:427
        break;
    114c:	e009      	b.n	1162 <usb_isr_handler+0x5e>
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:431
        //ERROR中断
        case USB_ERROR_INT:
            //清错误标志
            FLAG_SET(USB_ISTAT_ERROR_SHIFT,USB0_ISTAT);
    114e:	4a07      	ldr	r2, [pc, #28]	; (116c <usb_isr_handler+0x68>)
    1150:	4906      	ldr	r1, [pc, #24]	; (116c <usb_isr_handler+0x68>)
    1152:	2380      	movs	r3, #128	; 0x80
    1154:	5ccb      	ldrb	r3, [r1, r3]
    1156:	b2db      	uxtb	r3, r3
    1158:	2102      	movs	r1, #2
    115a:	430b      	orrs	r3, r1
    115c:	b2d9      	uxtb	r1, r3
    115e:	2380      	movs	r3, #128	; 0x80
    1160:	54d1      	strb	r1, [r2, r3]
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:433
    }
}
    1162:	46bd      	mov	sp, r7
    1164:	b002      	add	sp, #8
    1166:	bd80      	pop	{r7, pc}
    1168:	00001b14 	.word	0x00001b14
    116c:	40072000 	.word	0x40072000

00001170 <usb_get_isr>:
usb_get_isr():
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:448
//      3:STALL中断
//      4:SLEEP中断
//      5:ERROR中断
//=========================================================================
uint_8  usb_get_isr()
{
    1170:	b580      	push	{r7, lr}
    1172:	af00      	add	r7, sp, #0
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:450
    // 令牌完成中断（ USB_ISTAT_TOKDNE在令牌完成后被置1）
    if(FLAG_CHK(USB_ISTAT_TOKDNE_SHIFT,USB0_ISTAT))
    1174:	4a1a      	ldr	r2, [pc, #104]	; (11e0 <usb_get_isr+0x70>)
    1176:	2380      	movs	r3, #128	; 0x80
    1178:	5cd3      	ldrb	r3, [r2, r3]
    117a:	b2db      	uxtb	r3, r3
    117c:	1c1a      	adds	r2, r3, #0
    117e:	2308      	movs	r3, #8
    1180:	4013      	ands	r3, r2
    1182:	d001      	beq.n	1188 <usb_get_isr+0x18>
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:451
        return USB_TOKDNE_INT;
    1184:	2300      	movs	r3, #0
    1186:	e028      	b.n	11da <usb_get_isr+0x6a>
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:453
    //检测USB模块是否解析到有效的复位
    else if(FLAG_CHK(USB_ISTAT_USBRST_SHIFT,USB0_ISTAT))
    1188:	4a15      	ldr	r2, [pc, #84]	; (11e0 <usb_get_isr+0x70>)
    118a:	2380      	movs	r3, #128	; 0x80
    118c:	5cd3      	ldrb	r3, [r2, r3]
    118e:	b2db      	uxtb	r3, r3
    1190:	1c1a      	adds	r2, r3, #0
    1192:	2301      	movs	r3, #1
    1194:	4013      	ands	r3, r2
    1196:	d001      	beq.n	119c <usb_get_isr+0x2c>
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:454
        return USB_RST_INT;
    1198:	2301      	movs	r3, #1
    119a:	e01e      	b.n	11da <usb_get_isr+0x6a>
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:456
    //USB模块收到SOF包
    else if(FLAG_CHK(USB_ISTAT_SOFTOK_SHIFT,USB0_ISTAT))
    119c:	4a10      	ldr	r2, [pc, #64]	; (11e0 <usb_get_isr+0x70>)
    119e:	2380      	movs	r3, #128	; 0x80
    11a0:	5cd3      	ldrb	r3, [r2, r3]
    11a2:	b2db      	uxtb	r3, r3
    11a4:	1c1a      	adds	r2, r3, #0
    11a6:	2304      	movs	r3, #4
    11a8:	4013      	ands	r3, r2
    11aa:	d001      	beq.n	11b0 <usb_get_isr+0x40>
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:457
        return USB_SOF_INT;
    11ac:	2302      	movs	r3, #2
    11ae:	e014      	b.n	11da <usb_get_isr+0x6a>
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:459
    // 检测STALL
    else if(FLAG_CHK(USB_ISTAT_STALL_SHIFT,USB0_ISTAT))
    11b0:	4a0b      	ldr	r2, [pc, #44]	; (11e0 <usb_get_isr+0x70>)
    11b2:	2380      	movs	r3, #128	; 0x80
    11b4:	5cd3      	ldrb	r3, [r2, r3]
    11b6:	b2db      	uxtb	r3, r3
    11b8:	b2db      	uxtb	r3, r3
    11ba:	b25b      	sxtb	r3, r3
    11bc:	2b00      	cmp	r3, #0
    11be:	da01      	bge.n	11c4 <usb_get_isr+0x54>
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:460
        return USB_STALL_INT;
    11c0:	2303      	movs	r3, #3
    11c2:	e00a      	b.n	11da <usb_get_isr+0x6a>
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:462
    // SLEEP
    else if(FLAG_CHK(USB_ISTAT_SLEEP_SHIFT,USB0_ISTAT))
    11c4:	4a06      	ldr	r2, [pc, #24]	; (11e0 <usb_get_isr+0x70>)
    11c6:	2380      	movs	r3, #128	; 0x80
    11c8:	5cd3      	ldrb	r3, [r2, r3]
    11ca:	b2db      	uxtb	r3, r3
    11cc:	1c1a      	adds	r2, r3, #0
    11ce:	2310      	movs	r3, #16
    11d0:	4013      	ands	r3, r2
    11d2:	d001      	beq.n	11d8 <usb_get_isr+0x68>
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:463
        return USB_SLEEP_INT;
    11d4:	2304      	movs	r3, #4
    11d6:	e000      	b.n	11da <usb_get_isr+0x6a>
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:466
    //ERROR中断，检测到错误
    else
        return USB_ERROR_INT;
    11d8:	2305      	movs	r3, #5
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:467
}
    11da:	1c18      	adds	r0, r3, #0
    11dc:	46bd      	mov	sp, r7
    11de:	bd80      	pop	{r7, pc}
    11e0:	40072000 	.word	0x40072000

000011e4 <usb_stall_handler>:
usb_stall_handler():
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:477
//功  能: 处理stall中断
//参  数: 无
//返  回: 无
//=========================================================================
void usb_stall_handler(void)
{
    11e4:	b580      	push	{r7, lr}
    11e6:	af00      	add	r7, sp, #0
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:478
    if(FLAG_CHK(USB_ENDPT_EPSTALL_SHIFT,USB0_ENDPT0))
    11e8:	4a0f      	ldr	r2, [pc, #60]	; (1228 <usb_stall_handler+0x44>)
    11ea:	23c0      	movs	r3, #192	; 0xc0
    11ec:	5cd3      	ldrb	r3, [r2, r3]
    11ee:	b2db      	uxtb	r3, r3
    11f0:	1c1a      	adds	r2, r3, #0
    11f2:	2302      	movs	r3, #2
    11f4:	4013      	ands	r3, r2
    11f6:	d009      	beq.n	120c <usb_stall_handler+0x28>
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:480
    {
        FLAG_CLR(USB_ENDPT_EPSTALL_SHIFT,USB0_ENDPT0);
    11f8:	4a0b      	ldr	r2, [pc, #44]	; (1228 <usb_stall_handler+0x44>)
    11fa:	490b      	ldr	r1, [pc, #44]	; (1228 <usb_stall_handler+0x44>)
    11fc:	23c0      	movs	r3, #192	; 0xc0
    11fe:	5ccb      	ldrb	r3, [r1, r3]
    1200:	b2db      	uxtb	r3, r3
    1202:	2102      	movs	r1, #2
    1204:	438b      	bics	r3, r1
    1206:	b2d9      	uxtb	r1, r3
    1208:	23c0      	movs	r3, #192	; 0xc0
    120a:	54d1      	strb	r1, [r2, r3]
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:482
    }
    FLAG_SET(USB_ISTAT_STALL_SHIFT,USB0_ISTAT);
    120c:	4a06      	ldr	r2, [pc, #24]	; (1228 <usb_stall_handler+0x44>)
    120e:	4906      	ldr	r1, [pc, #24]	; (1228 <usb_stall_handler+0x44>)
    1210:	2380      	movs	r3, #128	; 0x80
    1212:	5ccb      	ldrb	r3, [r1, r3]
    1214:	b2db      	uxtb	r3, r3
    1216:	2180      	movs	r1, #128	; 0x80
    1218:	4249      	negs	r1, r1
    121a:	430b      	orrs	r3, r1
    121c:	b2d9      	uxtb	r1, r3
    121e:	2380      	movs	r3, #128	; 0x80
    1220:	54d1      	strb	r1, [r2, r3]
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:483
}
    1222:	46bd      	mov	sp, r7
    1224:	bd80      	pop	{r7, pc}
    1226:	46c0      	nop			; (mov r8, r8)
    1228:	40072000 	.word	0x40072000

0000122c <usb_reset_handler>:
usb_reset_handler():
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:495
//      中断,USB复位中断。    当USB复位完成后，USB通信将启动.
//参  数: 无
//返  回: 无
//=========================================================================
 void usb_reset_handler(void)
{      
    122c:	b580      	push	{r7, lr}
    122e:	af00      	add	r7, sp, #0
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:497
    //清标志
    gu8USBClearFlags=0xFF;
    1230:	4b4a      	ldr	r3, [pc, #296]	; (135c <usb_reset_handler+0x130>)
    1232:	22ff      	movs	r2, #255	; 0xff
    1234:	701a      	strb	r2, [r3, #0]
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:498
    gu8USB_Toogle_flags=0;
    1236:	4b4a      	ldr	r3, [pc, #296]	; (1360 <usb_reset_handler+0x134>)
    1238:	2200      	movs	r2, #0
    123a:	701a      	strb	r2, [r3, #0]
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:501

    //禁止所有端点    EPRXEN 和 EPTXEN 均为0 禁用
    USB0_ENDPT1=0x00;
    123c:	4a49      	ldr	r2, [pc, #292]	; (1364 <usb_reset_handler+0x138>)
    123e:	23c4      	movs	r3, #196	; 0xc4
    1240:	2100      	movs	r1, #0
    1242:	54d1      	strb	r1, [r2, r3]
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:502
    USB0_ENDPT2=0x00;
    1244:	4a47      	ldr	r2, [pc, #284]	; (1364 <usb_reset_handler+0x138>)
    1246:	23c8      	movs	r3, #200	; 0xc8
    1248:	2100      	movs	r1, #0
    124a:	54d1      	strb	r1, [r2, r3]
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:503
    USB0_ENDPT3=0x00;
    124c:	4a45      	ldr	r2, [pc, #276]	; (1364 <usb_reset_handler+0x138>)
    124e:	23cc      	movs	r3, #204	; 0xcc
    1250:	2100      	movs	r1, #0
    1252:	54d1      	strb	r1, [r2, r3]
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:504
    USB0_ENDPT4=0x00;
    1254:	4a43      	ldr	r2, [pc, #268]	; (1364 <usb_reset_handler+0x138>)
    1256:	23d0      	movs	r3, #208	; 0xd0
    1258:	2100      	movs	r1, #0
    125a:	54d1      	strb	r1, [r2, r3]
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:505
    USB0_ENDPT5=0x00;
    125c:	4a41      	ldr	r2, [pc, #260]	; (1364 <usb_reset_handler+0x138>)
    125e:	23d4      	movs	r3, #212	; 0xd4
    1260:	2100      	movs	r1, #0
    1262:	54d1      	strb	r1, [r2, r3]
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:506
    USB0_ENDPT6=0x00;
    1264:	4a3f      	ldr	r2, [pc, #252]	; (1364 <usb_reset_handler+0x138>)
    1266:	23d8      	movs	r3, #216	; 0xd8
    1268:	2100      	movs	r1, #0
    126a:	54d1      	strb	r1, [r2, r3]
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:510

    // EP0 BDT Setup
    // EP0 OUT BDT 设置
    BDTtable[bEP0OUT_ODD].Cnt = EP0_SIZE;
    126c:	4b3e      	ldr	r3, [pc, #248]	; (1368 <usb_reset_handler+0x13c>)
    126e:	681b      	ldr	r3, [r3, #0]
    1270:	2220      	movs	r2, #32
    1272:	805a      	strh	r2, [r3, #2]
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:511
    BDTtable[bEP0OUT_ODD].Addr =(uint_32)gu8EP0_OUT_ODD_Buffer;
    1274:	4b3c      	ldr	r3, [pc, #240]	; (1368 <usb_reset_handler+0x13c>)
    1276:	681b      	ldr	r3, [r3, #0]
    1278:	4a3c      	ldr	r2, [pc, #240]	; (136c <usb_reset_handler+0x140>)
    127a:	605a      	str	r2, [r3, #4]
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:512
    BDTtable[bEP0OUT_ODD].Stat._byte = kUDATA1;
    127c:	4b3a      	ldr	r3, [pc, #232]	; (1368 <usb_reset_handler+0x13c>)
    127e:	681b      	ldr	r3, [r3, #0]
    1280:	22c8      	movs	r2, #200	; 0xc8
    1282:	701a      	strb	r2, [r3, #0]
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:514
    // EP0 OUT BDT 设置
    BDTtable[bEP0OUT_EVEN].Cnt = EP0_SIZE;
    1284:	4b38      	ldr	r3, [pc, #224]	; (1368 <usb_reset_handler+0x13c>)
    1286:	681b      	ldr	r3, [r3, #0]
    1288:	3308      	adds	r3, #8
    128a:	2220      	movs	r2, #32
    128c:	805a      	strh	r2, [r3, #2]
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:515
    BDTtable[bEP0OUT_EVEN].Addr =(uint_32)gu8EP0_OUT_EVEN_Buffer;
    128e:	4b36      	ldr	r3, [pc, #216]	; (1368 <usb_reset_handler+0x13c>)
    1290:	681b      	ldr	r3, [r3, #0]
    1292:	3308      	adds	r3, #8
    1294:	4a36      	ldr	r2, [pc, #216]	; (1370 <usb_reset_handler+0x144>)
    1296:	605a      	str	r2, [r3, #4]
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:516
    BDTtable[bEP0OUT_EVEN].Stat._byte = kUDATA1;
    1298:	4b33      	ldr	r3, [pc, #204]	; (1368 <usb_reset_handler+0x13c>)
    129a:	681b      	ldr	r3, [r3, #0]
    129c:	3308      	adds	r3, #8
    129e:	22c8      	movs	r2, #200	; 0xc8
    12a0:	701a      	strb	r2, [r3, #0]
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:518
    // EP0 IN BDT 设置 
    BDTtable[bEP0IN_ODD].Cnt = EP0_SIZE;
    12a2:	4b31      	ldr	r3, [pc, #196]	; (1368 <usb_reset_handler+0x13c>)
    12a4:	681b      	ldr	r3, [r3, #0]
    12a6:	3310      	adds	r3, #16
    12a8:	2220      	movs	r2, #32
    12aa:	805a      	strh	r2, [r3, #2]
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:519
    BDTtable[bEP0IN_ODD].Addr =(uint_32)gu8EP0_IN_ODD_Buffer;
    12ac:	4b2e      	ldr	r3, [pc, #184]	; (1368 <usb_reset_handler+0x13c>)
    12ae:	681b      	ldr	r3, [r3, #0]
    12b0:	3310      	adds	r3, #16
    12b2:	4a30      	ldr	r2, [pc, #192]	; (1374 <usb_reset_handler+0x148>)
    12b4:	605a      	str	r2, [r3, #4]
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:520
    BDTtable[bEP0IN_ODD].Stat._byte = kUDATA0;
    12b6:	4b2c      	ldr	r3, [pc, #176]	; (1368 <usb_reset_handler+0x13c>)
    12b8:	681b      	ldr	r3, [r3, #0]
    12ba:	3310      	adds	r3, #16
    12bc:	2288      	movs	r2, #136	; 0x88
    12be:	701a      	strb	r2, [r3, #0]
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:522
    // EP0 IN BDT 设置 
    BDTtable[bEP0IN_EVEN].Cnt = (EP0_SIZE);
    12c0:	4b29      	ldr	r3, [pc, #164]	; (1368 <usb_reset_handler+0x13c>)
    12c2:	681b      	ldr	r3, [r3, #0]
    12c4:	3318      	adds	r3, #24
    12c6:	2220      	movs	r2, #32
    12c8:	805a      	strh	r2, [r3, #2]
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:523
    BDTtable[bEP0IN_EVEN].Addr =(uint_32)gu8EP0_IN_EVEN_Buffer;
    12ca:	4b27      	ldr	r3, [pc, #156]	; (1368 <usb_reset_handler+0x13c>)
    12cc:	681b      	ldr	r3, [r3, #0]
    12ce:	3318      	adds	r3, #24
    12d0:	4a29      	ldr	r2, [pc, #164]	; (1378 <usb_reset_handler+0x14c>)
    12d2:	605a      	str	r2, [r3, #4]
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:524
    BDTtable[bEP0IN_EVEN].Stat._byte = kUDATA0;
    12d4:	4b24      	ldr	r3, [pc, #144]	; (1368 <usb_reset_handler+0x13c>)
    12d6:	681b      	ldr	r3, [r3, #0]
    12d8:	3318      	adds	r3, #24
    12da:	2288      	movs	r2, #136	; 0x88
    12dc:	701a      	strb	r2, [r3, #0]
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:527

    // 使能 EP0
    USB0_ENDPT0 = 0x0D;  //端点允许TX RX传输和执行握手
    12de:	4a21      	ldr	r2, [pc, #132]	; (1364 <usb_reset_handler+0x138>)
    12e0:	23c0      	movs	r3, #192	; 0xc0
    12e2:	210d      	movs	r1, #13
    12e4:	54d1      	strb	r1, [r2, r3]
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:530

    // 清除所有的错误
    USB0_ERRSTAT = 0xFF;
    12e6:	4a1f      	ldr	r2, [pc, #124]	; (1364 <usb_reset_handler+0x138>)
    12e8:	2388      	movs	r3, #136	; 0x88
    12ea:	21ff      	movs	r1, #255	; 0xff
    12ec:	54d1      	strb	r1, [r2, r3]
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:533
    
    //清除所有的中断标志
    USB0_ISTAT = 0xFF;
    12ee:	4a1d      	ldr	r2, [pc, #116]	; (1364 <usb_reset_handler+0x138>)
    12f0:	2380      	movs	r3, #128	; 0x80
    12f2:	21ff      	movs	r1, #255	; 0xff
    12f4:	54d1      	strb	r1, [r2, r3]
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:536

    // USB设备地址
    USB0_ADDR = 0x00;
    12f6:	4a1b      	ldr	r2, [pc, #108]	; (1364 <usb_reset_handler+0x138>)
    12f8:	2398      	movs	r3, #152	; 0x98
    12fa:	2100      	movs	r1, #0
    12fc:	54d1      	strb	r1, [r2, r3]
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:539

    // 使能所有的错误中断
    USB0_ERREN = 0xFF;
    12fe:	4a19      	ldr	r2, [pc, #100]	; (1364 <usb_reset_handler+0x138>)
    1300:	238c      	movs	r3, #140	; 0x8c
    1302:	21ff      	movs	r1, #255	; 0xff
    1304:	54d1      	strb	r1, [r2, r3]
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:542

    // USB模块中断使能
    FLAG_SET(USB_INTEN_TOKDNEEN_SHIFT,USB0_INTEN);  //使能令牌中断
    1306:	4a17      	ldr	r2, [pc, #92]	; (1364 <usb_reset_handler+0x138>)
    1308:	4916      	ldr	r1, [pc, #88]	; (1364 <usb_reset_handler+0x138>)
    130a:	2384      	movs	r3, #132	; 0x84
    130c:	5ccb      	ldrb	r3, [r1, r3]
    130e:	b2db      	uxtb	r3, r3
    1310:	2108      	movs	r1, #8
    1312:	430b      	orrs	r3, r1
    1314:	b2d9      	uxtb	r1, r3
    1316:	2384      	movs	r3, #132	; 0x84
    1318:	54d1      	strb	r1, [r2, r3]
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:543
    FLAG_SET(USB_INTEN_SOFTOKEN_SHIFT,USB0_INTEN);  //使能帧中断
    131a:	4a12      	ldr	r2, [pc, #72]	; (1364 <usb_reset_handler+0x138>)
    131c:	4911      	ldr	r1, [pc, #68]	; (1364 <usb_reset_handler+0x138>)
    131e:	2384      	movs	r3, #132	; 0x84
    1320:	5ccb      	ldrb	r3, [r1, r3]
    1322:	b2db      	uxtb	r3, r3
    1324:	2104      	movs	r1, #4
    1326:	430b      	orrs	r3, r1
    1328:	b2d9      	uxtb	r1, r3
    132a:	2384      	movs	r3, #132	; 0x84
    132c:	54d1      	strb	r1, [r2, r3]
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:544
    FLAG_SET(USB_INTEN_ERROREN_SHIFT,USB0_INTEN);   //使能错误中断
    132e:	4a0d      	ldr	r2, [pc, #52]	; (1364 <usb_reset_handler+0x138>)
    1330:	490c      	ldr	r1, [pc, #48]	; (1364 <usb_reset_handler+0x138>)
    1332:	2384      	movs	r3, #132	; 0x84
    1334:	5ccb      	ldrb	r3, [r1, r3]
    1336:	b2db      	uxtb	r3, r3
    1338:	2102      	movs	r1, #2
    133a:	430b      	orrs	r3, r1
    133c:	b2d9      	uxtb	r1, r3
    133e:	2384      	movs	r3, #132	; 0x84
    1340:	54d1      	strb	r1, [r2, r3]
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:545
    FLAG_SET(USB_INTEN_USBRSTEN_SHIFT,USB0_INTEN);  //使能复位中断
    1342:	4a08      	ldr	r2, [pc, #32]	; (1364 <usb_reset_handler+0x138>)
    1344:	4907      	ldr	r1, [pc, #28]	; (1364 <usb_reset_handler+0x138>)
    1346:	2384      	movs	r3, #132	; 0x84
    1348:	5ccb      	ldrb	r3, [r1, r3]
    134a:	b2db      	uxtb	r3, r3
    134c:	2101      	movs	r1, #1
    134e:	430b      	orrs	r3, r1
    1350:	b2d9      	uxtb	r1, r3
    1352:	2384      	movs	r3, #132	; 0x84
    1354:	54d1      	strb	r1, [r2, r3]
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:546
}
    1356:	46bd      	mov	sp, r7
    1358:	bd80      	pop	{r7, pc}
    135a:	46c0      	nop			; (mov r8, r8)
    135c:	1ffff2d8 	.word	0x1ffff2d8
    1360:	1ffff2e1 	.word	0x1ffff2e1
    1364:	40072000 	.word	0x40072000
    1368:	1ffff7bc 	.word	0x1ffff7bc
    136c:	1ffff0d8 	.word	0x1ffff0d8
    1370:	1ffff0f8 	.word	0x1ffff0f8
    1374:	1ffff118 	.word	0x1ffff118
    1378:	1ffff138 	.word	0x1ffff138

0000137c <usb_ep_in_transfer>:
usb_ep_in_transfer():
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:559
 //       u8DataSize：待发数据长度
 //返  回: 无
 //=========================================================================
 static void usb_ep_in_transfer(uint_8 u8EP,uint_8 *pu8DataPointer,
         uint_8 u8DataSize)
 {
    137c:	b580      	push	{r7, lr}
    137e:	b086      	sub	sp, #24
    1380:	af00      	add	r7, sp, #0
    1382:	6039      	str	r1, [r7, #0]
    1384:	1dfb      	adds	r3, r7, #7
    1386:	1c01      	adds	r1, r0, #0
    1388:	7019      	strb	r1, [r3, #0]
    138a:	1dbb      	adds	r3, r7, #6
    138c:	701a      	strb	r2, [r3, #0]
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:562
     uint_8 *pu8EPBuffer;
     uint_8 u8EPSize;
     uint_16 u16Lenght=0;
    138e:	1c3b      	adds	r3, r7, #0
    1390:	3310      	adds	r3, #16
    1392:	2200      	movs	r2, #0
    1394:	801a      	strh	r2, [r3, #0]
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:566
     uint_8 u8EndPointFlag;

     //设置端点所对应的端点描述符
     u8EndPointFlag = u8EP;
    1396:	1c3b      	adds	r3, r7, #0
    1398:	330f      	adds	r3, #15
    139a:	1dfa      	adds	r2, r7, #7
    139c:	7812      	ldrb	r2, [r2, #0]
    139e:	701a      	strb	r2, [r3, #0]
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:567
     if(u8EP)    //貌似有点多余，该函数只针对ep0
    13a0:	1dfb      	adds	r3, r7, #7
    13a2:	781b      	ldrb	r3, [r3, #0]
    13a4:	2b00      	cmp	r3, #0
    13a6:	d004      	beq.n	13b2 <usb_ep_in_transfer+0x36>
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:568
         u8EP=(uint_8)(u8EP<<2);
    13a8:	1dfb      	adds	r3, r7, #7
    13aa:	1dfa      	adds	r2, r7, #7
    13ac:	7812      	ldrb	r2, [r2, #0]
    13ae:	0092      	lsls	r2, r2, #2
    13b0:	701a      	strb	r2, [r3, #0]
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:569
     u8EP+=2;    //in_odd
    13b2:	1dfb      	adds	r3, r7, #7
    13b4:	1dfa      	adds	r2, r7, #7
    13b6:	7812      	ldrb	r2, [r2, #0]
    13b8:	3202      	adds	r2, #2
    13ba:	701a      	strb	r2, [r3, #0]
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:572

     //指向端点的缓冲区
     pu8EPBuffer = BD_BufferPointer[u8EP];    //指向_IN_ODD_Buffer
    13bc:	1dfb      	adds	r3, r7, #7
    13be:	781a      	ldrb	r2, [r3, #0]
    13c0:	4b5e      	ldr	r3, [pc, #376]	; (153c <usb_ep_in_transfer+0x1c0>)
    13c2:	0092      	lsls	r2, r2, #2
    13c4:	58d3      	ldr	r3, [r2, r3]
    13c6:	617b      	str	r3, [r7, #20]
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:575

     //检查是否可以发送数据
     if(FLAG_CHK(fIN,gu8USBClearFlags))
    13c8:	4b5d      	ldr	r3, [pc, #372]	; (1540 <usb_ep_in_transfer+0x1c4>)
    13ca:	781b      	ldrb	r3, [r3, #0]
    13cc:	1c1a      	adds	r2, r3, #0
    13ce:	2301      	movs	r3, #1
    13d0:	4013      	ands	r3, r2
    13d2:	d024      	beq.n	141e <usb_ep_in_transfer+0xa2>
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:578
     {
         //待传输的数据
         pu8IN_DataPointer = pu8DataPointer;
    13d4:	4b5b      	ldr	r3, [pc, #364]	; (1544 <usb_ep_in_transfer+0x1c8>)
    13d6:	683a      	ldr	r2, [r7, #0]
    13d8:	601a      	str	r2, [r3, #0]
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:579
         gu8IN_Counter = u8DataSize;
    13da:	4b5b      	ldr	r3, [pc, #364]	; (1548 <usb_ep_in_transfer+0x1cc>)
    13dc:	1dba      	adds	r2, r7, #6
    13de:	7812      	ldrb	r2, [r2, #0]
    13e0:	701a      	strb	r2, [r3, #0]
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:581
         //控制传输的数据阶段中传输数据的大小
         u16Lenght = (Setup_Pkt -> wLength_h<<8) + Setup_Pkt -> wLength_l ;
    13e2:	4b5a      	ldr	r3, [pc, #360]	; (154c <usb_ep_in_transfer+0x1d0>)
    13e4:	681b      	ldr	r3, [r3, #0]
    13e6:	79db      	ldrb	r3, [r3, #7]
    13e8:	021b      	lsls	r3, r3, #8
    13ea:	b299      	uxth	r1, r3
    13ec:	4b57      	ldr	r3, [pc, #348]	; (154c <usb_ep_in_transfer+0x1d0>)
    13ee:	681b      	ldr	r3, [r3, #0]
    13f0:	799b      	ldrb	r3, [r3, #6]
    13f2:	1c1a      	adds	r2, r3, #0
    13f4:	1c3b      	adds	r3, r7, #0
    13f6:	3310      	adds	r3, #16
    13f8:	188a      	adds	r2, r1, r2
    13fa:	801a      	strh	r2, [r3, #0]
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:584
         //如果要发送in包的端点是端点0，并且待发送数据比要发送数据长
         //那么取低字节的传输字节大小
         if((u16Lenght < u8DataSize) && (u8EP==2))
    13fc:	1dbb      	adds	r3, r7, #6
    13fe:	781b      	ldrb	r3, [r3, #0]
    1400:	b29b      	uxth	r3, r3
    1402:	1c3a      	adds	r2, r7, #0
    1404:	3210      	adds	r2, #16
    1406:	8812      	ldrh	r2, [r2, #0]
    1408:	429a      	cmp	r2, r3
    140a:	d208      	bcs.n	141e <usb_ep_in_transfer+0xa2>
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:584 (discriminator 1)
    140c:	1dfb      	adds	r3, r7, #7
    140e:	781b      	ldrb	r3, [r3, #0]
    1410:	2b02      	cmp	r3, #2
    1412:	d104      	bne.n	141e <usb_ep_in_transfer+0xa2>
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:586
         {
             gu8IN_Counter = Setup_Pkt->wLength_l;
    1414:	4b4d      	ldr	r3, [pc, #308]	; (154c <usb_ep_in_transfer+0x1d0>)
    1416:	681b      	ldr	r3, [r3, #0]
    1418:	799a      	ldrb	r2, [r3, #6]
    141a:	4b4b      	ldr	r3, [pc, #300]	; (1548 <usb_ep_in_transfer+0x1cc>)
    141c:	701a      	strb	r2, [r3, #0]
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:591
         }
     }

     //看看待发送的数据是否大于端点所能发送数据的长度。
     if(gu8IN_Counter > cEP_Size[u8EP])     //cEP_Size[u8EP] == 32
    141e:	1dfb      	adds	r3, r7, #7
    1420:	781b      	ldrb	r3, [r3, #0]
    1422:	4a4b      	ldr	r2, [pc, #300]	; (1550 <usb_ep_in_transfer+0x1d4>)
    1424:	5cd2      	ldrb	r2, [r2, r3]
    1426:	4b48      	ldr	r3, [pc, #288]	; (1548 <usb_ep_in_transfer+0x1cc>)
    1428:	781b      	ldrb	r3, [r3, #0]
    142a:	429a      	cmp	r2, r3
    142c:	d218      	bcs.n	1460 <usb_ep_in_transfer+0xe4>
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:593
     {
         u8EPSize = cEP_Size[u8EP];
    142e:	1dfb      	adds	r3, r7, #7
    1430:	781a      	ldrb	r2, [r3, #0]
    1432:	1c3b      	adds	r3, r7, #0
    1434:	3313      	adds	r3, #19
    1436:	4946      	ldr	r1, [pc, #280]	; (1550 <usb_ep_in_transfer+0x1d4>)
    1438:	5c8a      	ldrb	r2, [r1, r2]
    143a:	701a      	strb	r2, [r3, #0]
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:594
         gu8IN_Counter -= cEP_Size[u8EP];   //剩余一些待发数据
    143c:	4b42      	ldr	r3, [pc, #264]	; (1548 <usb_ep_in_transfer+0x1cc>)
    143e:	781a      	ldrb	r2, [r3, #0]
    1440:	1dfb      	adds	r3, r7, #7
    1442:	781b      	ldrb	r3, [r3, #0]
    1444:	4942      	ldr	r1, [pc, #264]	; (1550 <usb_ep_in_transfer+0x1d4>)
    1446:	5ccb      	ldrb	r3, [r1, r3]
    1448:	1ad3      	subs	r3, r2, r3
    144a:	b2da      	uxtb	r2, r3
    144c:	4b3e      	ldr	r3, [pc, #248]	; (1548 <usb_ep_in_transfer+0x1cc>)
    144e:	701a      	strb	r2, [r3, #0]
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:595
         FLAG_CLR(fIN,gu8USBClearFlags);    //清标志，不能发送数据
    1450:	4b3b      	ldr	r3, [pc, #236]	; (1540 <usb_ep_in_transfer+0x1c4>)
    1452:	781b      	ldrb	r3, [r3, #0]
    1454:	2201      	movs	r2, #1
    1456:	4393      	bics	r3, r2
    1458:	b2da      	uxtb	r2, r3
    145a:	4b39      	ldr	r3, [pc, #228]	; (1540 <usb_ep_in_transfer+0x1c4>)
    145c:	701a      	strb	r2, [r3, #0]
    145e:	e00e      	b.n	147e <usb_ep_in_transfer+0x102>
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:599
     }
     else
     {
         u8EPSize = gu8IN_Counter;
    1460:	1c3b      	adds	r3, r7, #0
    1462:	3313      	adds	r3, #19
    1464:	4a38      	ldr	r2, [pc, #224]	; (1548 <usb_ep_in_transfer+0x1cc>)
    1466:	7812      	ldrb	r2, [r2, #0]
    1468:	701a      	strb	r2, [r3, #0]
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:600
         gu8IN_Counter=0;
    146a:	4b37      	ldr	r3, [pc, #220]	; (1548 <usb_ep_in_transfer+0x1cc>)
    146c:	2200      	movs	r2, #0
    146e:	701a      	strb	r2, [r3, #0]
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:601
         FLAG_SET(fIN,gu8USBClearFlags);
    1470:	4b33      	ldr	r3, [pc, #204]	; (1540 <usb_ep_in_transfer+0x1c4>)
    1472:	781b      	ldrb	r3, [r3, #0]
    1474:	2201      	movs	r2, #1
    1476:	4313      	orrs	r3, r2
    1478:	b2da      	uxtb	r2, r3
    147a:	4b31      	ldr	r3, [pc, #196]	; (1540 <usb_ep_in_transfer+0x1c4>)
    147c:	701a      	strb	r2, [r3, #0]
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:605
     }

     //把待发数据长度写入BDT
     BDTtable[u8EP].Cnt = (u8EPSize);
    147e:	4b35      	ldr	r3, [pc, #212]	; (1554 <usb_ep_in_transfer+0x1d8>)
    1480:	681a      	ldr	r2, [r3, #0]
    1482:	1dfb      	adds	r3, r7, #7
    1484:	781b      	ldrb	r3, [r3, #0]
    1486:	00db      	lsls	r3, r3, #3
    1488:	18d3      	adds	r3, r2, r3
    148a:	1c3a      	adds	r2, r7, #0
    148c:	3213      	adds	r2, #19
    148e:	7812      	ldrb	r2, [r2, #0]
    1490:	b292      	uxth	r2, r2
    1492:	805a      	strh	r2, [r3, #2]
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:608

     // 把数据拷贝到BDT缓冲区   (把用户数据区待发送数据拷贝到指定端点的缓冲区)
     while(u8EPSize--)
    1494:	e009      	b.n	14aa <usb_ep_in_transfer+0x12e>
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:609
          *pu8EPBuffer++=*pu8IN_DataPointer++;
    1496:	697b      	ldr	r3, [r7, #20]
    1498:	1c5a      	adds	r2, r3, #1
    149a:	617a      	str	r2, [r7, #20]
    149c:	4a29      	ldr	r2, [pc, #164]	; (1544 <usb_ep_in_transfer+0x1c8>)
    149e:	6812      	ldr	r2, [r2, #0]
    14a0:	1c50      	adds	r0, r2, #1
    14a2:	4928      	ldr	r1, [pc, #160]	; (1544 <usb_ep_in_transfer+0x1c8>)
    14a4:	6008      	str	r0, [r1, #0]
    14a6:	7812      	ldrb	r2, [r2, #0]
    14a8:	701a      	strb	r2, [r3, #0]
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:608 (discriminator 1)

     //把待发数据长度写入BDT
     BDTtable[u8EP].Cnt = (u8EPSize);

     // 把数据拷贝到BDT缓冲区   (把用户数据区待发送数据拷贝到指定端点的缓冲区)
     while(u8EPSize--)
    14aa:	1c3b      	adds	r3, r7, #0
    14ac:	3313      	adds	r3, #19
    14ae:	781b      	ldrb	r3, [r3, #0]
    14b0:	1c3a      	adds	r2, r7, #0
    14b2:	3213      	adds	r2, #19
    14b4:	1e59      	subs	r1, r3, #1
    14b6:	7011      	strb	r1, [r2, #0]
    14b8:	2b00      	cmp	r3, #0
    14ba:	d1ec      	bne.n	1496 <usb_ep_in_transfer+0x11a>
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:614
          *pu8EPBuffer++=*pu8IN_DataPointer++;

     // gu8USB_Toogle_flags : 用Data0 和Data1 来跟USB 设备进行同步用的。
     // DATA0/DATA1 交替
     //检查gu8USB_Toogle_flags bit0是否为1
     if(FLAG_CHK(u8EndPointFlag,gu8USB_Toogle_flags))
    14bc:	4b26      	ldr	r3, [pc, #152]	; (1558 <usb_ep_in_transfer+0x1dc>)
    14be:	781b      	ldrb	r3, [r3, #0]
    14c0:	1c1a      	adds	r2, r3, #0
    14c2:	1c3b      	adds	r3, r7, #0
    14c4:	330f      	adds	r3, #15
    14c6:	781b      	ldrb	r3, [r3, #0]
    14c8:	411a      	asrs	r2, r3
    14ca:	2301      	movs	r3, #1
    14cc:	4013      	ands	r3, r2
    14ce:	d01a      	beq.n	1506 <usb_ep_in_transfer+0x18a>
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:618
     {
         //gu8USB_Toogle_flags : 表示是DATA0还是DATA1
         //1:表示发送DATA0, 0: 表示发送DATA1.
         BDTtable[u8EP].Stat._byte = kUDATA0;
    14d0:	4b20      	ldr	r3, [pc, #128]	; (1554 <usb_ep_in_transfer+0x1d8>)
    14d2:	681a      	ldr	r2, [r3, #0]
    14d4:	1dfb      	adds	r3, r7, #7
    14d6:	781b      	ldrb	r3, [r3, #0]
    14d8:	00db      	lsls	r3, r3, #3
    14da:	18d3      	adds	r3, r2, r3
    14dc:	2288      	movs	r2, #136	; 0x88
    14de:	701a      	strb	r2, [r3, #0]
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:619
         FLAG_CLR(u8EndPointFlag,gu8USB_Toogle_flags);
    14e0:	1c3b      	adds	r3, r7, #0
    14e2:	330f      	adds	r3, #15
    14e4:	781b      	ldrb	r3, [r3, #0]
    14e6:	2201      	movs	r2, #1
    14e8:	1c11      	adds	r1, r2, #0
    14ea:	4099      	lsls	r1, r3
    14ec:	1c0b      	adds	r3, r1, #0
    14ee:	b2db      	uxtb	r3, r3
    14f0:	43db      	mvns	r3, r3
    14f2:	b2db      	uxtb	r3, r3
    14f4:	4a18      	ldr	r2, [pc, #96]	; (1558 <usb_ep_in_transfer+0x1dc>)
    14f6:	7812      	ldrb	r2, [r2, #0]
    14f8:	b2d2      	uxtb	r2, r2
    14fa:	4013      	ands	r3, r2
    14fc:	b2db      	uxtb	r3, r3
    14fe:	b2da      	uxtb	r2, r3
    1500:	4b15      	ldr	r3, [pc, #84]	; (1558 <usb_ep_in_transfer+0x1dc>)
    1502:	701a      	strb	r2, [r3, #0]
    1504:	e017      	b.n	1536 <usb_ep_in_transfer+0x1ba>
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:623
     }
     else
     {
         BDTtable[u8EP].Stat._byte= kUDATA1;
    1506:	4b13      	ldr	r3, [pc, #76]	; (1554 <usb_ep_in_transfer+0x1d8>)
    1508:	681a      	ldr	r2, [r3, #0]
    150a:	1dfb      	adds	r3, r7, #7
    150c:	781b      	ldrb	r3, [r3, #0]
    150e:	00db      	lsls	r3, r3, #3
    1510:	18d3      	adds	r3, r2, r3
    1512:	22c8      	movs	r2, #200	; 0xc8
    1514:	701a      	strb	r2, [r3, #0]
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:624
         FLAG_SET(u8EndPointFlag,gu8USB_Toogle_flags);
    1516:	1c3b      	adds	r3, r7, #0
    1518:	330f      	adds	r3, #15
    151a:	781b      	ldrb	r3, [r3, #0]
    151c:	2201      	movs	r2, #1
    151e:	1c11      	adds	r1, r2, #0
    1520:	4099      	lsls	r1, r3
    1522:	1c0b      	adds	r3, r1, #0
    1524:	b2da      	uxtb	r2, r3
    1526:	4b0c      	ldr	r3, [pc, #48]	; (1558 <usb_ep_in_transfer+0x1dc>)
    1528:	781b      	ldrb	r3, [r3, #0]
    152a:	b2db      	uxtb	r3, r3
    152c:	4313      	orrs	r3, r2
    152e:	b2db      	uxtb	r3, r3
    1530:	b2da      	uxtb	r2, r3
    1532:	4b09      	ldr	r3, [pc, #36]	; (1558 <usb_ep_in_transfer+0x1dc>)
    1534:	701a      	strb	r2, [r3, #0]
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:626
     }
 }
    1536:	46bd      	mov	sp, r7
    1538:	b006      	add	sp, #24
    153a:	bd80      	pop	{r7, pc}
    153c:	1ffff094 	.word	0x1ffff094
    1540:	1ffff2d8 	.word	0x1ffff2d8
    1544:	1ffff2dc 	.word	0x1ffff2dc
    1548:	1ffff2e0 	.word	0x1ffff2e0
    154c:	1ffff2e8 	.word	0x1ffff2e8
    1550:	00001b04 	.word	0x00001b04
    1554:	1ffff7bc 	.word	0x1ffff7bc
    1558:	1ffff2e1 	.word	0x1ffff2e1

0000155c <usb_set_interface>:
usb_set_interface():
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:637
 //       并将端点缓冲区地址  以及   控制信息 存储到BDT中
 //参  数: 无
 //返  回: 无
 //=========================================================================
 static void usb_set_interface(void)
 {
    155c:	b580      	push	{r7, lr}
    155e:	af00      	add	r7, sp, #0
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:640
     // 使能端点
     // 端点 Register 设置
     USB0_ENDPT1= EP1_VALUE | USB_ENDPT_EPHSHK_MASK;       //发送使能
    1560:	4a23      	ldr	r2, [pc, #140]	; (15f0 <usb_set_interface+0x94>)
    1562:	23c4      	movs	r3, #196	; 0xc4
    1564:	2105      	movs	r1, #5
    1566:	54d1      	strb	r1, [r2, r3]
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:641
     USB0_ENDPT2= EP2_VALUE | USB_ENDPT_EPHSHK_MASK;       //发送使能
    1568:	4a21      	ldr	r2, [pc, #132]	; (15f0 <usb_set_interface+0x94>)
    156a:	23c8      	movs	r3, #200	; 0xc8
    156c:	2105      	movs	r1, #5
    156e:	54d1      	strb	r1, [r2, r3]
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:642
     USB0_ENDPT3= EP3_VALUE | USB_ENDPT_EPHSHK_MASK;       //接收使能
    1570:	4a1f      	ldr	r2, [pc, #124]	; (15f0 <usb_set_interface+0x94>)
    1572:	23cc      	movs	r3, #204	; 0xcc
    1574:	2109      	movs	r1, #9
    1576:	54d1      	strb	r1, [r2, r3]
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:643
     USB0_ENDPT4= EP4_VALUE | USB_ENDPT_EPHSHK_MASK;
    1578:	4a1d      	ldr	r2, [pc, #116]	; (15f0 <usb_set_interface+0x94>)
    157a:	23d0      	movs	r3, #208	; 0xd0
    157c:	2101      	movs	r1, #1
    157e:	54d1      	strb	r1, [r2, r3]
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:644
     USB0_ENDPT5= EP5_VALUE | USB_ENDPT_EPHSHK_MASK;
    1580:	4a1b      	ldr	r2, [pc, #108]	; (15f0 <usb_set_interface+0x94>)
    1582:	23d4      	movs	r3, #212	; 0xd4
    1584:	2101      	movs	r1, #1
    1586:	54d1      	strb	r1, [r2, r3]
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:645
     USB0_ENDPT6= EP6_VALUE | USB_ENDPT_EPHSHK_MASK;
    1588:	4a19      	ldr	r2, [pc, #100]	; (15f0 <usb_set_interface+0x94>)
    158a:	23d8      	movs	r3, #216	; 0xd8
    158c:	2101      	movs	r1, #1
    158e:	54d1      	strb	r1, [r2, r3]
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:648

     // 设置 1 BDT 设置
     BDTtable[bEP1IN_ODD].Stat._byte= kUDATA1;
    1590:	4b18      	ldr	r3, [pc, #96]	; (15f4 <usb_set_interface+0x98>)
    1592:	681b      	ldr	r3, [r3, #0]
    1594:	3330      	adds	r3, #48	; 0x30
    1596:	22c8      	movs	r2, #200	; 0xc8
    1598:	701a      	strb	r2, [r3, #0]
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:649
     BDTtable[bEP1IN_ODD].Cnt = 0x00;
    159a:	4b16      	ldr	r3, [pc, #88]	; (15f4 <usb_set_interface+0x98>)
    159c:	681b      	ldr	r3, [r3, #0]
    159e:	3330      	adds	r3, #48	; 0x30
    15a0:	2200      	movs	r2, #0
    15a2:	805a      	strh	r2, [r3, #2]
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:650
     BDTtable[bEP1IN_ODD].Addr =(uint_32)gu8EP1_IN_ODD_Buffer;
    15a4:	4b13      	ldr	r3, [pc, #76]	; (15f4 <usb_set_interface+0x98>)
    15a6:	681b      	ldr	r3, [r3, #0]
    15a8:	3330      	adds	r3, #48	; 0x30
    15aa:	4a13      	ldr	r2, [pc, #76]	; (15f8 <usb_set_interface+0x9c>)
    15ac:	605a      	str	r2, [r3, #4]
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:653

     // 设置 2 BDT 设置
     BDTtable[bEP2IN_ODD].Stat._byte= kUDATA1;
    15ae:	4b11      	ldr	r3, [pc, #68]	; (15f4 <usb_set_interface+0x98>)
    15b0:	681b      	ldr	r3, [r3, #0]
    15b2:	3350      	adds	r3, #80	; 0x50
    15b4:	22c8      	movs	r2, #200	; 0xc8
    15b6:	701a      	strb	r2, [r3, #0]
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:654
     BDTtable[bEP2IN_ODD].Cnt = 0x00;
    15b8:	4b0e      	ldr	r3, [pc, #56]	; (15f4 <usb_set_interface+0x98>)
    15ba:	681b      	ldr	r3, [r3, #0]
    15bc:	3350      	adds	r3, #80	; 0x50
    15be:	2200      	movs	r2, #0
    15c0:	805a      	strh	r2, [r3, #2]
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:655
     BDTtable[bEP2IN_ODD].Addr =(uint_32)gu8EP2_IN_ODD_Buffer;
    15c2:	4b0c      	ldr	r3, [pc, #48]	; (15f4 <usb_set_interface+0x98>)
    15c4:	681b      	ldr	r3, [r3, #0]
    15c6:	3350      	adds	r3, #80	; 0x50
    15c8:	4a0c      	ldr	r2, [pc, #48]	; (15fc <usb_set_interface+0xa0>)
    15ca:	605a      	str	r2, [r3, #4]
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:658

     // 设置 3 BDT 设置
     BDTtable[bEP3OUT_ODD].Stat._byte= kUDATA0;
    15cc:	4b09      	ldr	r3, [pc, #36]	; (15f4 <usb_set_interface+0x98>)
    15ce:	681b      	ldr	r3, [r3, #0]
    15d0:	3360      	adds	r3, #96	; 0x60
    15d2:	2288      	movs	r2, #136	; 0x88
    15d4:	701a      	strb	r2, [r3, #0]
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:659
     BDTtable[bEP3OUT_ODD].Cnt = 0xFF;
    15d6:	4b07      	ldr	r3, [pc, #28]	; (15f4 <usb_set_interface+0x98>)
    15d8:	681b      	ldr	r3, [r3, #0]
    15da:	3360      	adds	r3, #96	; 0x60
    15dc:	22ff      	movs	r2, #255	; 0xff
    15de:	805a      	strh	r2, [r3, #2]
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:660
     BDTtable[bEP3OUT_ODD].Addr =(uint_32)gu8EP3_OUT_ODD_Buffer;
    15e0:	4b04      	ldr	r3, [pc, #16]	; (15f4 <usb_set_interface+0x98>)
    15e2:	681b      	ldr	r3, [r3, #0]
    15e4:	3360      	adds	r3, #96	; 0x60
    15e6:	4a06      	ldr	r2, [pc, #24]	; (1600 <usb_set_interface+0xa4>)
    15e8:	605a      	str	r2, [r3, #4]
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:661
 }
    15ea:	46bd      	mov	sp, r7
    15ec:	bd80      	pop	{r7, pc}
    15ee:	46c0      	nop			; (mov r8, r8)
    15f0:	40072000 	.word	0x40072000
    15f4:	1ffff7bc 	.word	0x1ffff7bc
    15f8:	1ffff198 	.word	0x1ffff198
    15fc:	1ffff218 	.word	0x1ffff218
    1600:	1ffff258 	.word	0x1ffff258

00001604 <usb_stdReq_handler>:
usb_stdReq_handler():
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:672
 //       该函数根据setup数据包中的请求类型，进行相应处理，对应的是字段bRequest
 //参  数: 无
 //返  回: 无
 //=========================================================================
 static void usb_stdReq_handler(void)
 {
    1604:	b580      	push	{r7, lr}
    1606:	b082      	sub	sp, #8
    1608:	af00      	add	r7, sp, #0
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:675
     uint_16 gu8Status;

     switch(Setup_Pkt->bRequest)
    160a:	4b52      	ldr	r3, [pc, #328]	; (1754 <usb_stdReq_handler+0x150>)
    160c:	681b      	ldr	r3, [r3, #0]
    160e:	785b      	ldrb	r3, [r3, #1]
    1610:	2b09      	cmp	r3, #9
    1612:	d900      	bls.n	1616 <usb_stdReq_handler+0x12>
    1614:	e098      	b.n	1748 <usb_stdReq_handler+0x144>
    1616:	009a      	lsls	r2, r3, #2
    1618:	4b4f      	ldr	r3, [pc, #316]	; (1758 <usb_stdReq_handler+0x154>)
    161a:	18d3      	adds	r3, r2, r3
    161c:	681b      	ldr	r3, [r3, #0]
    161e:	469f      	mov	pc, r3
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:678
     {
         case mSET_ADDRESS:
             usb_ep_in_transfer(EP0,0,0);    //端点0发送ACK包
    1620:	2000      	movs	r0, #0
    1622:	2100      	movs	r1, #0
    1624:	2200      	movs	r2, #0
    1626:	f7ff fea9 	bl	137c <usb_ep_in_transfer>
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:679
             gu8USB_State = uADDRESS;   //置USB设备为 已设置地址状态
    162a:	4b4c      	ldr	r3, [pc, #304]	; (175c <usb_stdReq_handler+0x158>)
    162c:	2203      	movs	r2, #3
    162e:	701a      	strb	r2, [r3, #0]
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:680
             break;
    1630:	e08d      	b.n	174e <usb_stdReq_handler+0x14a>
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:685

         // PC 从芯片获取描述符
         case mGET_DESC:

             switch(Setup_Pkt->wValue_h)
    1632:	4b48      	ldr	r3, [pc, #288]	; (1754 <usb_stdReq_handler+0x150>)
    1634:	681b      	ldr	r3, [r3, #0]
    1636:	78db      	ldrb	r3, [r3, #3]
    1638:	2b02      	cmp	r3, #2
    163a:	d00a      	beq.n	1652 <usb_stdReq_handler+0x4e>
    163c:	2b03      	cmp	r3, #3
    163e:	d00f      	beq.n	1660 <usb_stdReq_handler+0x5c>
    1640:	2b01      	cmp	r3, #1
    1642:	d149      	bne.n	16d8 <usb_stdReq_handler+0xd4>
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:689
             {
                 case mDEVICE:
                     // 发送设备描述符
                     usb_ep_in_transfer(EP0,(uint_8*) Device_Descriptor,sizeof(Device_Descriptor));
    1644:	4b46      	ldr	r3, [pc, #280]	; (1760 <usb_stdReq_handler+0x15c>)
    1646:	2000      	movs	r0, #0
    1648:	1c19      	adds	r1, r3, #0
    164a:	2212      	movs	r2, #18
    164c:	f7ff fe96 	bl	137c <usb_ep_in_transfer>
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:690
                     break;
    1650:	e045      	b.n	16de <usb_stdReq_handler+0xda>
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:694

                 case mCONFIGURATION:
                     // 发送配置描述符
                     usb_ep_in_transfer(EP0,(uint_8*)Configuration_Descriptor,
    1652:	4b44      	ldr	r3, [pc, #272]	; (1764 <usb_stdReq_handler+0x160>)
    1654:	2000      	movs	r0, #0
    1656:	1c19      	adds	r1, r3, #0
    1658:	2220      	movs	r2, #32
    165a:	f7ff fe8f 	bl	137c <usb_ep_in_transfer>
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:696
                             sizeof(Configuration_Descriptor));
                     break;
    165e:	e03e      	b.n	16de <usb_stdReq_handler+0xda>
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:699

                 case mSTRING:
                     if(Setup_Pkt->wValue_l==0)
    1660:	4b3c      	ldr	r3, [pc, #240]	; (1754 <usb_stdReq_handler+0x150>)
    1662:	681b      	ldr	r3, [r3, #0]
    1664:	789b      	ldrb	r3, [r3, #2]
    1666:	2b00      	cmp	r3, #0
    1668:	d10a      	bne.n	1680 <usb_stdReq_handler+0x7c>
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:700
                         usb_ep_in_transfer(EP0,USB_String_Table.String_Descriptor0,
    166a:	4b3f      	ldr	r3, [pc, #252]	; (1768 <usb_stdReq_handler+0x164>)
    166c:	681a      	ldr	r2, [r3, #0]
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:701
                              USB_String_Table.String_Descriptor0[0]);
    166e:	4b3e      	ldr	r3, [pc, #248]	; (1768 <usb_stdReq_handler+0x164>)
    1670:	681b      	ldr	r3, [r3, #0]
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:700
                             sizeof(Configuration_Descriptor));
                     break;

                 case mSTRING:
                     if(Setup_Pkt->wValue_l==0)
                         usb_ep_in_transfer(EP0,USB_String_Table.String_Descriptor0,
    1672:	781b      	ldrb	r3, [r3, #0]
    1674:	2000      	movs	r0, #0
    1676:	1c11      	adds	r1, r2, #0
    1678:	1c1a      	adds	r2, r3, #0
    167a:	f7ff fe7f 	bl	137c <usb_ep_in_transfer>
    167e:	e02a      	b.n	16d6 <usb_stdReq_handler+0xd2>
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:702
                              USB_String_Table.String_Descriptor0[0]);
                     else if(Setup_Pkt->wValue_l==1)
    1680:	4b34      	ldr	r3, [pc, #208]	; (1754 <usb_stdReq_handler+0x150>)
    1682:	681b      	ldr	r3, [r3, #0]
    1684:	789b      	ldrb	r3, [r3, #2]
    1686:	2b01      	cmp	r3, #1
    1688:	d10a      	bne.n	16a0 <usb_stdReq_handler+0x9c>
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:703
                         usb_ep_in_transfer(EP0,USB_String_Table.String_Descriptor1,
    168a:	4b37      	ldr	r3, [pc, #220]	; (1768 <usb_stdReq_handler+0x164>)
    168c:	685a      	ldr	r2, [r3, #4]
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:704
                             USB_String_Table.String_Descriptor1[0]);
    168e:	4b36      	ldr	r3, [pc, #216]	; (1768 <usb_stdReq_handler+0x164>)
    1690:	685b      	ldr	r3, [r3, #4]
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:703
                 case mSTRING:
                     if(Setup_Pkt->wValue_l==0)
                         usb_ep_in_transfer(EP0,USB_String_Table.String_Descriptor0,
                              USB_String_Table.String_Descriptor0[0]);
                     else if(Setup_Pkt->wValue_l==1)
                         usb_ep_in_transfer(EP0,USB_String_Table.String_Descriptor1,
    1692:	781b      	ldrb	r3, [r3, #0]
    1694:	2000      	movs	r0, #0
    1696:	1c11      	adds	r1, r2, #0
    1698:	1c1a      	adds	r2, r3, #0
    169a:	f7ff fe6f 	bl	137c <usb_ep_in_transfer>
    169e:	e01a      	b.n	16d6 <usb_stdReq_handler+0xd2>
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:705
                             USB_String_Table.String_Descriptor1[0]);
                     else if(Setup_Pkt->wValue_l==2)
    16a0:	4b2c      	ldr	r3, [pc, #176]	; (1754 <usb_stdReq_handler+0x150>)
    16a2:	681b      	ldr	r3, [r3, #0]
    16a4:	789b      	ldrb	r3, [r3, #2]
    16a6:	2b02      	cmp	r3, #2
    16a8:	d10a      	bne.n	16c0 <usb_stdReq_handler+0xbc>
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:706
                        usb_ep_in_transfer(EP0,USB_String_Table.String_Descriptor2,
    16aa:	4b2f      	ldr	r3, [pc, #188]	; (1768 <usb_stdReq_handler+0x164>)
    16ac:	689a      	ldr	r2, [r3, #8]
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:707
                                USB_String_Table.String_Descriptor2[0]);
    16ae:	4b2e      	ldr	r3, [pc, #184]	; (1768 <usb_stdReq_handler+0x164>)
    16b0:	689b      	ldr	r3, [r3, #8]
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:706
                              USB_String_Table.String_Descriptor0[0]);
                     else if(Setup_Pkt->wValue_l==1)
                         usb_ep_in_transfer(EP0,USB_String_Table.String_Descriptor1,
                             USB_String_Table.String_Descriptor1[0]);
                     else if(Setup_Pkt->wValue_l==2)
                        usb_ep_in_transfer(EP0,USB_String_Table.String_Descriptor2,
    16b2:	781b      	ldrb	r3, [r3, #0]
    16b4:	2000      	movs	r0, #0
    16b6:	1c11      	adds	r1, r2, #0
    16b8:	1c1a      	adds	r2, r3, #0
    16ba:	f7ff fe5f 	bl	137c <usb_ep_in_transfer>
    16be:	e00a      	b.n	16d6 <usb_stdReq_handler+0xd2>
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:709
                                USB_String_Table.String_Descriptor2[0]);
                     else
                         usb_ep_in_transfer(EP0,USB_String_Table.Device_Name,
    16c0:	4b29      	ldr	r3, [pc, #164]	; (1768 <usb_stdReq_handler+0x164>)
    16c2:	68da      	ldr	r2, [r3, #12]
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:710
                             USB_String_Table.Device_Name[0]);
    16c4:	4b28      	ldr	r3, [pc, #160]	; (1768 <usb_stdReq_handler+0x164>)
    16c6:	68db      	ldr	r3, [r3, #12]
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:709
                             USB_String_Table.String_Descriptor1[0]);
                     else if(Setup_Pkt->wValue_l==2)
                        usb_ep_in_transfer(EP0,USB_String_Table.String_Descriptor2,
                                USB_String_Table.String_Descriptor2[0]);
                     else
                         usb_ep_in_transfer(EP0,USB_String_Table.Device_Name,
    16c8:	781b      	ldrb	r3, [r3, #0]
    16ca:	2000      	movs	r0, #0
    16cc:	1c11      	adds	r1, r2, #0
    16ce:	1c1a      	adds	r2, r3, #0
    16d0:	f7ff fe54 	bl	137c <usb_ep_in_transfer>
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:715
                             USB_String_Table.Device_Name[0]);

//                     // 发送字符串描述符
//                     usb_ep_in_transfer(EP0,(uint_8*)String_Table[Setup_Pkt->wValue_l],
//                             String_Table[Setup_Pkt->wValue_l][0]);
                     break;
    16d4:	e003      	b.n	16de <usb_stdReq_handler+0xda>
    16d6:	e002      	b.n	16de <usb_stdReq_handler+0xda>
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:718

                 default:
                     usb_ep0_stall();
    16d8:	f000 f90c 	bl	18f4 <usb_ep0_stall>
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:719
                     break;
    16dc:	46c0      	nop			; (mov r8, r8)
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:721
             }
             break;
    16de:	e036      	b.n	174e <usb_stdReq_handler+0x14a>
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:725
         // 设置配置 Set Configuration
         case mSET_CONFIG:
             //选择配置值
             gu8Dummy=Setup_Pkt->wValue_h+Setup_Pkt->wValue_l; //wValue_h保留，wValue_l为配置值，
    16e0:	4b1c      	ldr	r3, [pc, #112]	; (1754 <usb_stdReq_handler+0x150>)
    16e2:	681b      	ldr	r3, [r3, #0]
    16e4:	78da      	ldrb	r2, [r3, #3]
    16e6:	4b1b      	ldr	r3, [pc, #108]	; (1754 <usb_stdReq_handler+0x150>)
    16e8:	681b      	ldr	r3, [r3, #0]
    16ea:	789b      	ldrb	r3, [r3, #2]
    16ec:	18d3      	adds	r3, r2, r3
    16ee:	b2da      	uxtb	r2, r3
    16f0:	4b1e      	ldr	r3, [pc, #120]	; (176c <usb_stdReq_handler+0x168>)
    16f2:	701a      	strb	r2, [r3, #0]
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:727
                                                               //为0或配置描述符中的配置值
             if(Setup_Pkt->wValue_h+Setup_Pkt->wValue_l) //判断setup的数据位wValue
    16f4:	4b17      	ldr	r3, [pc, #92]	; (1754 <usb_stdReq_handler+0x150>)
    16f6:	681b      	ldr	r3, [r3, #0]
    16f8:	78db      	ldrb	r3, [r3, #3]
    16fa:	1c1a      	adds	r2, r3, #0
    16fc:	4b15      	ldr	r3, [pc, #84]	; (1754 <usb_stdReq_handler+0x150>)
    16fe:	681b      	ldr	r3, [r3, #0]
    1700:	789b      	ldrb	r3, [r3, #2]
    1702:	18d3      	adds	r3, r2, r3
    1704:	2b00      	cmp	r3, #0
    1706:	d00a      	beq.n	171e <usb_stdReq_handler+0x11a>
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:731
                                                         //若非0调用usb_set_interface进行接口设置
             {
                 //使能1 、2 、3 端点
                 usb_set_interface();
    1708:	f7ff ff28 	bl	155c <usb_set_interface>
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:732
                 usb_ep_in_transfer(EP0,0,0);   //端点0发送ACK
    170c:	2000      	movs	r0, #0
    170e:	2100      	movs	r1, #0
    1710:	2200      	movs	r2, #0
    1712:	f7ff fe33 	bl	137c <usb_ep_in_transfer>
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:733
                 gu8USB_State = uENUMERATED;    //置USB设备为 已被枚举状态
    1716:	4b11      	ldr	r3, [pc, #68]	; (175c <usb_stdReq_handler+0x158>)
    1718:	2201      	movs	r2, #1
    171a:	701a      	strb	r2, [r3, #0]
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:735
             }
             break;
    171c:	e017      	b.n	174e <usb_stdReq_handler+0x14a>
    171e:	e016      	b.n	174e <usb_stdReq_handler+0x14a>
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:739
         // 获取配置信息 Get Configuration
         case mGET_CONFIG:
             //获取配置信息
             usb_ep_in_transfer(EP0,(uint_8*)&gu8Dummy,1);    //发送配置值
    1720:	4b12      	ldr	r3, [pc, #72]	; (176c <usb_stdReq_handler+0x168>)
    1722:	2000      	movs	r0, #0
    1724:	1c19      	adds	r1, r3, #0
    1726:	2201      	movs	r2, #1
    1728:	f7ff fe28 	bl	137c <usb_ep_in_transfer>
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:740
             break;
    172c:	e00f      	b.n	174e <usb_stdReq_handler+0x14a>
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:743
         // 获取状态 Get Status
         case mGET_STATUS:
             gu8Status = 0;
    172e:	1dbb      	adds	r3, r7, #6
    1730:	2200      	movs	r2, #0
    1732:	801a      	strh	r2, [r3, #0]
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:744
             usb_ep_in_transfer(EP0,(uint_8*)&gu8Status,2);
    1734:	1dbb      	adds	r3, r7, #6
    1736:	2000      	movs	r0, #0
    1738:	1c19      	adds	r1, r3, #0
    173a:	2202      	movs	r2, #2
    173c:	f7ff fe1e 	bl	137c <usb_ep_in_transfer>
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:745
             gu8USB_State=uPOWER;    //置USB设备为 已供电状态
    1740:	4b06      	ldr	r3, [pc, #24]	; (175c <usb_stdReq_handler+0x158>)
    1742:	2200      	movs	r2, #0
    1744:	701a      	strb	r2, [r3, #0]
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:746
             break;
    1746:	e002      	b.n	174e <usb_stdReq_handler+0x14a>
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:749

         default:
             usb_ep0_stall();
    1748:	f000 f8d4 	bl	18f4 <usb_ep0_stall>
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:750
             break;
    174c:	46c0      	nop			; (mov r8, r8)
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:752
     }
 }
    174e:	46bd      	mov	sp, r7
    1750:	b002      	add	sp, #8
    1752:	bd80      	pop	{r7, pc}
    1754:	1ffff2e8 	.word	0x1ffff2e8
    1758:	00001b2c 	.word	0x00001b2c
    175c:	1ffff2e4 	.word	0x1ffff2e4
    1760:	1ffff010 	.word	0x1ffff010
    1764:	1ffff024 	.word	0x1ffff024
    1768:	1ffff7c0 	.word	0x1ffff7c0
    176c:	1ffff2e2 	.word	0x1ffff2e2

00001770 <usb_setup_handler>:
usb_setup_handler():
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:772
 //    wValue.L:1 :描述符的索引
 //    wIndex:2
 //    wLength:2
 //=========================================================================
 static void usb_setup_handler(void)
 {
    1770:	b580      	push	{r7, lr}
    1772:	af00      	add	r7, sp, #0
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:776
    // uint_8 u8State;

     // 从DATA0开始传输
     FLAG_CLR(0,gu8USB_Toogle_flags);
    1774:	4b1a      	ldr	r3, [pc, #104]	; (17e0 <usb_setup_handler+0x70>)
    1776:	781b      	ldrb	r3, [r3, #0]
    1778:	2201      	movs	r2, #1
    177a:	4393      	bics	r3, r2
    177c:	b2da      	uxtb	r2, r3
    177e:	4b18      	ldr	r3, [pc, #96]	; (17e0 <usb_setup_handler+0x70>)
    1780:	701a      	strb	r2, [r3, #0]
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:777
     switch(Setup_Pkt->bmRequestType & 0x1F)  //主机至设备 标准类   bmRequestType请求类
    1782:	4b18      	ldr	r3, [pc, #96]	; (17e4 <usb_setup_handler+0x74>)
    1784:	681b      	ldr	r3, [r3, #0]
    1786:	781b      	ldrb	r3, [r3, #0]
    1788:	1c1a      	adds	r2, r3, #0
    178a:	231f      	movs	r3, #31
    178c:	4013      	ands	r3, r2
    178e:	d003      	beq.n	1798 <usb_setup_handler+0x28>
    1790:	d417      	bmi.n	17c2 <usb_setup_handler+0x52>
    1792:	2b02      	cmp	r3, #2
    1794:	dc15      	bgt.n	17c2 <usb_setup_handler+0x52>
    1796:	e00d      	b.n	17b4 <usb_setup_handler+0x44>
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:782
     {

         case DEVICE_REQ:
             // 设备
             if((Setup_Pkt->bmRequestType & 0x1F)== STANDARD_REQ)
    1798:	4b12      	ldr	r3, [pc, #72]	; (17e4 <usb_setup_handler+0x74>)
    179a:	681b      	ldr	r3, [r3, #0]
    179c:	781b      	ldrb	r3, [r3, #0]
    179e:	1c1a      	adds	r2, r3, #0
    17a0:	231f      	movs	r3, #31
    17a2:	4013      	ands	r3, r2
    17a4:	d101      	bne.n	17aa <usb_setup_handler+0x3a>
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:783
                 usb_stdReq_handler();   // USB 设备的标准请求
    17a6:	f7ff ff2d 	bl	1604 <usb_stdReq_handler>
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:785
             // 把BDT 的控制权交给USB 模块
             BDTtable[bEP0OUT_ODD].Stat._byte= kUDATA0;
    17aa:	4b0f      	ldr	r3, [pc, #60]	; (17e8 <usb_setup_handler+0x78>)
    17ac:	681b      	ldr	r3, [r3, #0]
    17ae:	2288      	movs	r2, #136	; 0x88
    17b0:	701a      	strb	r2, [r3, #0]
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:786
             break;
    17b2:	e009      	b.n	17c8 <usb_setup_handler+0x58>
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:790
         case INTERFACE_REQ:
         case ENDPOINT_REQ:
             // 端点
             usb_endpoint_setup_handler();
    17b4:	f000 f81c 	bl	17f0 <usb_endpoint_setup_handler>
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:791
             BDTtable[bEP0OUT_ODD].Stat._byte= kUDATA0;
    17b8:	4b0b      	ldr	r3, [pc, #44]	; (17e8 <usb_setup_handler+0x78>)
    17ba:	681b      	ldr	r3, [r3, #0]
    17bc:	2288      	movs	r2, #136	; 0x88
    17be:	701a      	strb	r2, [r3, #0]
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:792
             break;
    17c0:	e002      	b.n	17c8 <usb_setup_handler+0x58>
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:795

         default:
             usb_ep0_stall();
    17c2:	f000 f897 	bl	18f4 <usb_ep0_stall>
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:796
             break;
    17c6:	46c0      	nop			; (mov r8, r8)
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:800
     }

     //从机时，该位为0: SIE继续处理令牌  （接收到setup令牌后SIE会将该位置1）
     FLAG_CLR(USB_CTL_TXSUSPENDTOKENBUSY_SHIFT,USB0_CTL);
    17c8:	4a08      	ldr	r2, [pc, #32]	; (17ec <usb_setup_handler+0x7c>)
    17ca:	4908      	ldr	r1, [pc, #32]	; (17ec <usb_setup_handler+0x7c>)
    17cc:	2394      	movs	r3, #148	; 0x94
    17ce:	5ccb      	ldrb	r3, [r1, r3]
    17d0:	b2db      	uxtb	r3, r3
    17d2:	2120      	movs	r1, #32
    17d4:	438b      	bics	r3, r1
    17d6:	b2d9      	uxtb	r1, r3
    17d8:	2394      	movs	r3, #148	; 0x94
    17da:	54d1      	strb	r1, [r2, r3]
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:801
 }
    17dc:	46bd      	mov	sp, r7
    17de:	bd80      	pop	{r7, pc}
    17e0:	1ffff2e1 	.word	0x1ffff2e1
    17e4:	1ffff2e8 	.word	0x1ffff2e8
    17e8:	1ffff7bc 	.word	0x1ffff7bc
    17ec:	40072000 	.word	0x40072000

000017f0 <usb_endpoint_setup_handler>:
usb_endpoint_setup_handler():
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:812
 //功  能: USB端点setup中断服务例程，针对端点的bRequest（bmRequestType == 0x02）
 //参  数: 无
 //返  回: 无
 //=========================================================================
 static void usb_endpoint_setup_handler(void)
 {
    17f0:	b580      	push	{r7, lr}
    17f2:	b082      	sub	sp, #8
    17f4:	af00      	add	r7, sp, #0
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:815
     uint_16 u16Status;

     switch(Setup_Pkt->bRequest)
    17f6:	4b2a      	ldr	r3, [pc, #168]	; (18a0 <usb_endpoint_setup_handler+0xb0>)
    17f8:	681b      	ldr	r3, [r3, #0]
    17fa:	785b      	ldrb	r3, [r3, #1]
    17fc:	2b01      	cmp	r3, #1
    17fe:	d01d      	beq.n	183c <usb_endpoint_setup_handler+0x4c>
    1800:	2b03      	cmp	r3, #3
    1802:	d033      	beq.n	186c <usb_endpoint_setup_handler+0x7c>
    1804:	2b00      	cmp	r3, #0
    1806:	d000      	beq.n	180a <usb_endpoint_setup_handler+0x1a>
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:837
             FLAG_SET(Setup_Pkt->wIndex_h,gu8HALT_EP);
             usb_ep_in_transfer(EP0,0,0);
             break;

         default:
             break;
    1808:	e046      	b.n	1898 <usb_endpoint_setup_handler+0xa8>
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:819

     switch(Setup_Pkt->bRequest)
     {
         case GET_STATUS:  //获得端点状态
             //当针对一个接口或端点时，wIndex字段决定了是哪个接口或端点
             if(FLAG_CHK(Setup_Pkt->wIndex_h,gu8HALT_EP))
    180a:	4b26      	ldr	r3, [pc, #152]	; (18a4 <usb_endpoint_setup_handler+0xb4>)
    180c:	781b      	ldrb	r3, [r3, #0]
    180e:	1c1a      	adds	r2, r3, #0
    1810:	4b23      	ldr	r3, [pc, #140]	; (18a0 <usb_endpoint_setup_handler+0xb0>)
    1812:	681b      	ldr	r3, [r3, #0]
    1814:	795b      	ldrb	r3, [r3, #5]
    1816:	411a      	asrs	r2, r3
    1818:	2301      	movs	r3, #1
    181a:	4013      	ands	r3, r2
    181c:	d004      	beq.n	1828 <usb_endpoint_setup_handler+0x38>
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:820
                 u16Status=0x0100;  //gu8HALT_EP用来判断端点是否处于停止状态，处于停滞状态，端点0发送0x0100
    181e:	1dbb      	adds	r3, r7, #6
    1820:	2280      	movs	r2, #128	; 0x80
    1822:	0052      	lsls	r2, r2, #1
    1824:	801a      	strh	r2, [r3, #0]
    1826:	e002      	b.n	182e <usb_endpoint_setup_handler+0x3e>
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:822
             else
                 u16Status=0x0000;
    1828:	1dbb      	adds	r3, r7, #6
    182a:	2200      	movs	r2, #0
    182c:	801a      	strh	r2, [r3, #0]
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:823
             usb_ep_in_transfer(EP0,(uint_8*)&u16Status,2);
    182e:	1dbb      	adds	r3, r7, #6
    1830:	2000      	movs	r0, #0
    1832:	1c19      	adds	r1, r3, #0
    1834:	2202      	movs	r2, #2
    1836:	f7ff fda1 	bl	137c <usb_ep_in_transfer>
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:824
             break;
    183a:	e02d      	b.n	1898 <usb_endpoint_setup_handler+0xa8>
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:827

         case CLEAR_FEATURE:  //清除端点特征
             FLAG_CLR(Setup_Pkt->wIndex_h,gu8HALT_EP);
    183c:	4b18      	ldr	r3, [pc, #96]	; (18a0 <usb_endpoint_setup_handler+0xb0>)
    183e:	681b      	ldr	r3, [r3, #0]
    1840:	795b      	ldrb	r3, [r3, #5]
    1842:	2201      	movs	r2, #1
    1844:	1c11      	adds	r1, r2, #0
    1846:	4099      	lsls	r1, r3
    1848:	1c0b      	adds	r3, r1, #0
    184a:	b2db      	uxtb	r3, r3
    184c:	43db      	mvns	r3, r3
    184e:	b2db      	uxtb	r3, r3
    1850:	4a14      	ldr	r2, [pc, #80]	; (18a4 <usb_endpoint_setup_handler+0xb4>)
    1852:	7812      	ldrb	r2, [r2, #0]
    1854:	b2d2      	uxtb	r2, r2
    1856:	4013      	ands	r3, r2
    1858:	b2db      	uxtb	r3, r3
    185a:	b2da      	uxtb	r2, r3
    185c:	4b11      	ldr	r3, [pc, #68]	; (18a4 <usb_endpoint_setup_handler+0xb4>)
    185e:	701a      	strb	r2, [r3, #0]
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:828
             usb_ep_in_transfer(EP0,0,0);
    1860:	2000      	movs	r0, #0
    1862:	2100      	movs	r1, #0
    1864:	2200      	movs	r2, #0
    1866:	f7ff fd89 	bl	137c <usb_ep_in_transfer>
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:829
             break;
    186a:	e015      	b.n	1898 <usb_endpoint_setup_handler+0xa8>
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:832

         case SET_FEATURE:    //设置端点特征
             FLAG_SET(Setup_Pkt->wIndex_h,gu8HALT_EP);
    186c:	4b0c      	ldr	r3, [pc, #48]	; (18a0 <usb_endpoint_setup_handler+0xb0>)
    186e:	681b      	ldr	r3, [r3, #0]
    1870:	795b      	ldrb	r3, [r3, #5]
    1872:	2201      	movs	r2, #1
    1874:	1c11      	adds	r1, r2, #0
    1876:	4099      	lsls	r1, r3
    1878:	1c0b      	adds	r3, r1, #0
    187a:	b2da      	uxtb	r2, r3
    187c:	4b09      	ldr	r3, [pc, #36]	; (18a4 <usb_endpoint_setup_handler+0xb4>)
    187e:	781b      	ldrb	r3, [r3, #0]
    1880:	b2db      	uxtb	r3, r3
    1882:	4313      	orrs	r3, r2
    1884:	b2db      	uxtb	r3, r3
    1886:	b2da      	uxtb	r2, r3
    1888:	4b06      	ldr	r3, [pc, #24]	; (18a4 <usb_endpoint_setup_handler+0xb4>)
    188a:	701a      	strb	r2, [r3, #0]
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:833
             usb_ep_in_transfer(EP0,0,0);
    188c:	2000      	movs	r0, #0
    188e:	2100      	movs	r1, #0
    1890:	2200      	movs	r2, #0
    1892:	f7ff fd73 	bl	137c <usb_ep_in_transfer>
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:834
             break;
    1896:	46c0      	nop			; (mov r8, r8)
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:839

         default:
             break;
     }
 }
    1898:	46bd      	mov	sp, r7
    189a:	b002      	add	sp, #8
    189c:	bd80      	pop	{r7, pc}
    189e:	46c0      	nop			; (mov r8, r8)
    18a0:	1ffff2e8 	.word	0x1ffff2e8
    18a4:	1ffff2e3 	.word	0x1ffff2e3

000018a8 <usb_ep0_in_handler>:
usb_ep0_in_handler():
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:851
 //参  数: 无
 //返  回: 无
 //=========================================================================
 static void usb_ep0_in_handler(void)   //设置地址寄存器，即外设地址，在请求的状态阶段被完成，
                                 //而其他请求在状态阶段之前完成
 {
    18a8:	b580      	push	{r7, lr}
    18aa:	af00      	add	r7, sp, #0
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:852
     if(gu8USB_State==uADDRESS)
    18ac:	4b0d      	ldr	r3, [pc, #52]	; (18e4 <usb_ep0_in_handler+0x3c>)
    18ae:	781b      	ldrb	r3, [r3, #0]
    18b0:	2b03      	cmp	r3, #3
    18b2:	d10f      	bne.n	18d4 <usb_ep0_in_handler+0x2c>
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:854
     {
         USB0_ADDR = Setup_Pkt->wValue_l;   //设置USB设备地址  setup指向ep0_out_odd
    18b4:	4a0c      	ldr	r2, [pc, #48]	; (18e8 <usb_ep0_in_handler+0x40>)
    18b6:	4b0d      	ldr	r3, [pc, #52]	; (18ec <usb_ep0_in_handler+0x44>)
    18b8:	681b      	ldr	r3, [r3, #0]
    18ba:	7899      	ldrb	r1, [r3, #2]
    18bc:	2398      	movs	r3, #152	; 0x98
    18be:	54d1      	strb	r1, [r2, r3]
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:855
         gu8USB_State=uREADY;               //USB设备变为就绪状态
    18c0:	4b08      	ldr	r3, [pc, #32]	; (18e4 <usb_ep0_in_handler+0x3c>)
    18c2:	2204      	movs	r2, #4
    18c4:	701a      	strb	r2, [r3, #0]
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:856
         FLAG_SET(fIN,gu8USBClearFlags);    //允许发送数据
    18c6:	4b0a      	ldr	r3, [pc, #40]	; (18f0 <usb_ep0_in_handler+0x48>)
    18c8:	781b      	ldrb	r3, [r3, #0]
    18ca:	2201      	movs	r2, #1
    18cc:	4313      	orrs	r3, r2
    18ce:	b2da      	uxtb	r2, r3
    18d0:	4b07      	ldr	r3, [pc, #28]	; (18f0 <usb_ep0_in_handler+0x48>)
    18d2:	701a      	strb	r2, [r3, #0]
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:858
     }
     usb_ep_in_transfer(0,0,0);   //端点0发送ACK
    18d4:	2000      	movs	r0, #0
    18d6:	2100      	movs	r1, #0
    18d8:	2200      	movs	r2, #0
    18da:	f7ff fd4f 	bl	137c <usb_ep_in_transfer>
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:859
 }
    18de:	46bd      	mov	sp, r7
    18e0:	bd80      	pop	{r7, pc}
    18e2:	46c0      	nop			; (mov r8, r8)
    18e4:	1ffff2e4 	.word	0x1ffff2e4
    18e8:	40072000 	.word	0x40072000
    18ec:	1ffff2e8 	.word	0x1ffff2e8
    18f0:	1ffff2d8 	.word	0x1ffff2d8

000018f4 <usb_ep0_stall>:
usb_ep0_stall():
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:870
 //       并将端点0的缓冲区描述符的控制信息设置成kUDATA0
 //参  数: 无
 //返  回: 无
 //=========================================================================
 static void usb_ep0_stall(void)
 {
    18f4:	b580      	push	{r7, lr}
    18f6:	af00      	add	r7, sp, #0
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:872
     //产生一个STALL包
     FLAG_SET(USB_ENDPT_EPSTALL_SHIFT,USB0_ENDPT0); //返回一个STALL握手包
    18f8:	4a09      	ldr	r2, [pc, #36]	; (1920 <usb_ep0_stall+0x2c>)
    18fa:	4909      	ldr	r1, [pc, #36]	; (1920 <usb_ep0_stall+0x2c>)
    18fc:	23c0      	movs	r3, #192	; 0xc0
    18fe:	5ccb      	ldrb	r3, [r1, r3]
    1900:	b2db      	uxtb	r3, r3
    1902:	2102      	movs	r1, #2
    1904:	430b      	orrs	r3, r1
    1906:	b2d9      	uxtb	r1, r3
    1908:	23c0      	movs	r3, #192	; 0xc0
    190a:	54d1      	strb	r1, [r2, r3]
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:874
     //ENDPT0_EP_STALL = 1;
     BDTtable[bEP0OUT_ODD].Stat._byte = kUDATA0;
    190c:	4b05      	ldr	r3, [pc, #20]	; (1924 <usb_ep0_stall+0x30>)
    190e:	681b      	ldr	r3, [r3, #0]
    1910:	2288      	movs	r2, #136	; 0x88
    1912:	701a      	strb	r2, [r3, #0]
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:875
     BDTtable[bEP0OUT_ODD].Cnt = EP0_SIZE;
    1914:	4b03      	ldr	r3, [pc, #12]	; (1924 <usb_ep0_stall+0x30>)
    1916:	681b      	ldr	r3, [r3, #0]
    1918:	2220      	movs	r2, #32
    191a:	805a      	strh	r2, [r3, #2]
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:876
 }
    191c:	46bd      	mov	sp, r7
    191e:	bd80      	pop	{r7, pc}
    1920:	40072000 	.word	0x40072000
    1924:	1ffff7bc 	.word	0x1ffff7bc

00001928 <usb_ep0_out_handler>:
usb_ep0_out_handler():
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:885
 //功  能: 端点0接收中断服务例程
 //参  数: 无
 //返  回: 无
 //=========================================================================
 static void usb_ep0_out_handler(void)
 {
    1928:	b580      	push	{r7, lr}
    192a:	af00      	add	r7, sp, #0
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:887
     //tBDTtable[bEP0OUT_ODD].Cnt = EP0_SIZE;
     BDTtable[bEP0OUT_ODD].Stat._byte = kUDATA0;
    192c:	4b02      	ldr	r3, [pc, #8]	; (1938 <usb_ep0_out_handler+0x10>)
    192e:	681b      	ldr	r3, [r3, #0]
    1930:	2288      	movs	r2, #136	; 0x88
    1932:	701a      	strb	r2, [r3, #0]
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../05_Driver/USBSlave/usb.c:890
     //tBDTtable[bEP0IN].Stat._byte = kUDATA1;

 }
    1934:	46bd      	mov	sp, r7
    1936:	bd80      	pop	{r7, pc}
    1938:	1ffff7bc 	.word	0x1ffff7bc

0000193c <SystemInit>:
SystemInit():
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../03_MCU/system_MKL25Z4.c:111
//函数名称：SystemInit
//功能概要：初始化系统的时钟，并把PORT时钟门启用
//参数说明：无
//函数返回：无
//============================================================================
void SystemInit (void) {
    193c:	b580      	push	{r7, lr}
    193e:	b082      	sub	sp, #8
    1940:	af00      	add	r7, sp, #0
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../03_MCU/system_MKL25Z4.c:113

    unsigned int i = 0;
    1942:	2300      	movs	r3, #0
    1944:	607b      	str	r3, [r7, #4]
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../03_MCU/system_MKL25Z4.c:114
    char temp_reg = 0;
    1946:	1cfb      	adds	r3, r7, #3
    1948:	2200      	movs	r2, #0
    194a:	701a      	strb	r2, [r3, #0]
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../03_MCU/system_MKL25Z4.c:117

#if (DISABLE_WDOG)  //关闭看门狗
    SIM->COPC = (uint32_t)0x00u;    //SIM_COPC: COPT=0,COPCLKS=0,COPW=0
    194c:	4a5b      	ldr	r2, [pc, #364]	; (1abc <SystemInit+0x180>)
    194e:	2388      	movs	r3, #136	; 0x88
    1950:	015b      	lsls	r3, r3, #5
    1952:	2100      	movs	r1, #0
    1954:	50d1      	str	r1, [r2, r3]
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../03_MCU/system_MKL25Z4.c:125
//1.首先从FEI模式过渡到FBE模式

    //C2= 0x1C，因为我们的核心板上采用了外部晶振为8Mhz，属于高频率范围，
    //C2[RANGE]设置为0b01；C2[HGO]设为1以配置晶振来进行高增益操作；因为
    //正在使用的外部参考时钟源是晶振，所以C2[EREFS]设置为1。
    MCG_C2 = (MCG_C2_RANGE0(1) | MCG_C2_EREFS0_MASK);
    1956:	4b5a      	ldr	r3, [pc, #360]	; (1ac0 <SystemInit+0x184>)
    1958:	2214      	movs	r2, #20
    195a:	705a      	strb	r2, [r3, #1]
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../03_MCU/system_MKL25Z4.c:130
    //C1 = 0x90 ，C1[CLKS]设置为2’b10，以便选择作为系统时钟源的外部参考时钟。
    //C1[FRDIV]设置为3'b011，对应256分频,因为8MHz/256=31.25kHz在由FLL要求的
    //31.25kHz至39.0625 kHz频率范围内。C1[IREFS]清除为0，选择外部参考时钟和
    //外部晶振。
    MCG_C1 = (MCG_C1_CLKS(2) | MCG_C1_FRDIV(3));
    195c:	4b58      	ldr	r3, [pc, #352]	; (1ac0 <SystemInit+0x184>)
    195e:	2298      	movs	r2, #152	; 0x98
    1960:	701a      	strb	r2, [r3, #0]
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../03_MCU/system_MKL25Z4.c:132
    //需要等到S[OSCINIT]被置位外部晶振才能使用
    for (i = 0 ; i < 20000 ; i++)
    1962:	2300      	movs	r3, #0
    1964:	607b      	str	r3, [r7, #4]
    1966:	e00a      	b.n	197e <SystemInit+0x42>
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../03_MCU/system_MKL25Z4.c:135
    {
        //如果S[OSCINIT]在循环结束之前被置位就跳出循环
        if (MCG_S & MCG_S_OSCINIT0_MASK) break;
    1968:	4b55      	ldr	r3, [pc, #340]	; (1ac0 <SystemInit+0x184>)
    196a:	799b      	ldrb	r3, [r3, #6]
    196c:	b2db      	uxtb	r3, r3
    196e:	1c1a      	adds	r2, r3, #0
    1970:	2302      	movs	r3, #2
    1972:	4013      	ands	r3, r2
    1974:	d000      	beq.n	1978 <SystemInit+0x3c>
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../03_MCU/system_MKL25Z4.c:135 (discriminator 1)
    1976:	e006      	b.n	1986 <SystemInit+0x4a>
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../03_MCU/system_MKL25Z4.c:132
    //C1[FRDIV]设置为3'b011，对应256分频,因为8MHz/256=31.25kHz在由FLL要求的
    //31.25kHz至39.0625 kHz频率范围内。C1[IREFS]清除为0，选择外部参考时钟和
    //外部晶振。
    MCG_C1 = (MCG_C1_CLKS(2) | MCG_C1_FRDIV(3));
    //需要等到S[OSCINIT]被置位外部晶振才能使用
    for (i = 0 ; i < 20000 ; i++)
    1978:	687b      	ldr	r3, [r7, #4]
    197a:	3301      	adds	r3, #1
    197c:	607b      	str	r3, [r7, #4]
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../03_MCU/system_MKL25Z4.c:132 (discriminator 1)
    197e:	687a      	ldr	r2, [r7, #4]
    1980:	4b50      	ldr	r3, [pc, #320]	; (1ac4 <SystemInit+0x188>)
    1982:	429a      	cmp	r2, r3
    1984:	d9f0      	bls.n	1968 <SystemInit+0x2c>
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../03_MCU/system_MKL25Z4.c:138
    {
        //如果S[OSCINIT]在循环结束之前被置位就跳出循环
        if (MCG_S & MCG_S_OSCINIT0_MASK) break;
    }
    //等待参考时钟状态位清0
    for (i = 0 ; i < 2000 ; i++)
    1986:	2300      	movs	r3, #0
    1988:	607b      	str	r3, [r7, #4]
    198a:	e00a      	b.n	19a2 <SystemInit+0x66>
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../03_MCU/system_MKL25Z4.c:141
    {
        //如果IREFST在循环结束之前被清0就跳出循环
        if (!(MCG_S & MCG_S_IREFST_MASK)) break;
    198c:	4b4c      	ldr	r3, [pc, #304]	; (1ac0 <SystemInit+0x184>)
    198e:	799b      	ldrb	r3, [r3, #6]
    1990:	b2db      	uxtb	r3, r3
    1992:	1c1a      	adds	r2, r3, #0
    1994:	2310      	movs	r3, #16
    1996:	4013      	ands	r3, r2
    1998:	d100      	bne.n	199c <SystemInit+0x60>
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../03_MCU/system_MKL25Z4.c:141 (discriminator 1)
    199a:	e006      	b.n	19aa <SystemInit+0x6e>
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../03_MCU/system_MKL25Z4.c:138
    {
        //如果S[OSCINIT]在循环结束之前被置位就跳出循环
        if (MCG_S & MCG_S_OSCINIT0_MASK) break;
    }
    //等待参考时钟状态位清0
    for (i = 0 ; i < 2000 ; i++)
    199c:	687b      	ldr	r3, [r7, #4]
    199e:	3301      	adds	r3, #1
    19a0:	607b      	str	r3, [r7, #4]
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../03_MCU/system_MKL25Z4.c:138 (discriminator 1)
    19a2:	687a      	ldr	r2, [r7, #4]
    19a4:	4b48      	ldr	r3, [pc, #288]	; (1ac8 <SystemInit+0x18c>)
    19a6:	429a      	cmp	r2, r3
    19a8:	d9f0      	bls.n	198c <SystemInit+0x50>
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../03_MCU/system_MKL25Z4.c:144
    {
        //如果IREFST在循环结束之前被清0就跳出循环
        if (!(MCG_S & MCG_S_IREFST_MASK)) break;
    }
    //等待时钟状态位以显示时钟源为外部参考时钟
    for (i = 0 ; i < 2000 ; i++)
    19aa:	2300      	movs	r3, #0
    19ac:	607b      	str	r3, [r7, #4]
    19ae:	e00c      	b.n	19ca <SystemInit+0x8e>
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../03_MCU/system_MKL25Z4.c:147
    {
        //如果CLKST显示外部时钟被选择，在循环结束之前就跳出循环
        if (((MCG_S & MCG_S_CLKST_MASK) >> MCG_S_CLKST_SHIFT) == 0x2) break;
    19b0:	4b43      	ldr	r3, [pc, #268]	; (1ac0 <SystemInit+0x184>)
    19b2:	799b      	ldrb	r3, [r3, #6]
    19b4:	b2db      	uxtb	r3, r3
    19b6:	1c1a      	adds	r2, r3, #0
    19b8:	230c      	movs	r3, #12
    19ba:	4013      	ands	r3, r2
    19bc:	089b      	lsrs	r3, r3, #2
    19be:	2b02      	cmp	r3, #2
    19c0:	d100      	bne.n	19c4 <SystemInit+0x88>
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../03_MCU/system_MKL25Z4.c:147 (discriminator 1)
    19c2:	e006      	b.n	19d2 <SystemInit+0x96>
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../03_MCU/system_MKL25Z4.c:144
    {
        //如果IREFST在循环结束之前被清0就跳出循环
        if (!(MCG_S & MCG_S_IREFST_MASK)) break;
    }
    //等待时钟状态位以显示时钟源为外部参考时钟
    for (i = 0 ; i < 2000 ; i++)
    19c4:	687b      	ldr	r3, [r7, #4]
    19c6:	3301      	adds	r3, #1
    19c8:	607b      	str	r3, [r7, #4]
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../03_MCU/system_MKL25Z4.c:144 (discriminator 1)
    19ca:	687a      	ldr	r2, [r7, #4]
    19cc:	4b3e      	ldr	r3, [pc, #248]	; (1ac8 <SystemInit+0x18c>)
    19ce:	429a      	cmp	r2, r3
    19d0:	d9ee      	bls.n	19b0 <SystemInit+0x74>
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../03_MCU/system_MKL25Z4.c:152
        if (((MCG_S & MCG_S_CLKST_MASK) >> MCG_S_CLKST_SHIFT) == 0x2) break;
    }

//2.现在处于FBE状态，使能时钟监视器，由FBE直接转换为PBE模式

    MCG_C6 |= MCG_C6_CME0_MASK;
    19d2:	4b3b      	ldr	r3, [pc, #236]	; (1ac0 <SystemInit+0x184>)
    19d4:	4a3a      	ldr	r2, [pc, #232]	; (1ac0 <SystemInit+0x184>)
    19d6:	7952      	ldrb	r2, [r2, #5]
    19d8:	b2d2      	uxtb	r2, r2
    19da:	2120      	movs	r1, #32
    19dc:	430a      	orrs	r2, r1
    19de:	b2d2      	uxtb	r2, r2
    19e0:	715a      	strb	r2, [r3, #5]
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../03_MCU/system_MKL25Z4.c:154
    //配置PLL为2分频
    MCG_C5 |= MCG_C5_PRDIV0(1);
    19e2:	4b37      	ldr	r3, [pc, #220]	; (1ac0 <SystemInit+0x184>)
    19e4:	4a36      	ldr	r2, [pc, #216]	; (1ac0 <SystemInit+0x184>)
    19e6:	7912      	ldrb	r2, [r2, #4]
    19e8:	b2d2      	uxtb	r2, r2
    19ea:	2101      	movs	r1, #1
    19ec:	430a      	orrs	r2, r1
    19ee:	b2d2      	uxtb	r2, r2
    19f0:	711a      	strb	r2, [r3, #4]
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../03_MCU/system_MKL25Z4.c:156
    //配置MCG_C6 以设置PLL倍频因子并且时能PLL，PLLS位被置位来时能PLL，MCGOUT时钟源仍然是外部参考时钟
    temp_reg = MCG_C6; //存储当前C6的值（因为CME0位之前被置位了）
    19f2:	4b33      	ldr	r3, [pc, #204]	; (1ac0 <SystemInit+0x184>)
    19f4:	795b      	ldrb	r3, [r3, #5]
    19f6:	b2da      	uxtb	r2, r3
    19f8:	1cfb      	adds	r3, r7, #3
    19fa:	701a      	strb	r2, [r3, #0]
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../03_MCU/system_MKL25Z4.c:157
    temp_reg &= ~MCG_C6_VDIV0_MASK; //将VDIV清0
    19fc:	1cfb      	adds	r3, r7, #3
    19fe:	1cfa      	adds	r2, r7, #3
    1a00:	7812      	ldrb	r2, [r2, #0]
    1a02:	211f      	movs	r1, #31
    1a04:	438a      	bics	r2, r1
    1a06:	701a      	strb	r2, [r3, #0]
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../03_MCU/system_MKL25Z4.c:158
    temp_reg |= MCG_C6_PLLS_MASK | MCG_C6_VDIV0(0); // 重新写值到VDIV 并且时能PLL
    1a08:	1cfb      	adds	r3, r7, #3
    1a0a:	1cfa      	adds	r2, r7, #3
    1a0c:	7812      	ldrb	r2, [r2, #0]
    1a0e:	2140      	movs	r1, #64	; 0x40
    1a10:	430a      	orrs	r2, r1
    1a12:	701a      	strb	r2, [r3, #0]
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../03_MCU/system_MKL25Z4.c:159
    MCG_C6 = temp_reg; // 更新MCG_C6的值
    1a14:	4b2a      	ldr	r3, [pc, #168]	; (1ac0 <SystemInit+0x184>)
    1a16:	1cfa      	adds	r2, r7, #3
    1a18:	7812      	ldrb	r2, [r2, #0]
    1a1a:	715a      	strb	r2, [r3, #5]
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../03_MCU/system_MKL25Z4.c:161
    // 等待PLLST状态位被置
    for (i = 0 ; i < 2000 ; i++)
    1a1c:	2300      	movs	r3, #0
    1a1e:	607b      	str	r3, [r7, #4]
    1a20:	e00a      	b.n	1a38 <SystemInit+0xfc>
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../03_MCU/system_MKL25Z4.c:164
    {
        //如果PLLST在循环结束之前被置位就跳出循环
        if (MCG_S & MCG_S_PLLST_MASK)
    1a22:	4b27      	ldr	r3, [pc, #156]	; (1ac0 <SystemInit+0x184>)
    1a24:	799b      	ldrb	r3, [r3, #6]
    1a26:	b2db      	uxtb	r3, r3
    1a28:	1c1a      	adds	r2, r3, #0
    1a2a:	2320      	movs	r3, #32
    1a2c:	4013      	ands	r3, r2
    1a2e:	d000      	beq.n	1a32 <SystemInit+0xf6>
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../03_MCU/system_MKL25Z4.c:165
            break;
    1a30:	e006      	b.n	1a40 <SystemInit+0x104>
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../03_MCU/system_MKL25Z4.c:161
    temp_reg = MCG_C6; //存储当前C6的值（因为CME0位之前被置位了）
    temp_reg &= ~MCG_C6_VDIV0_MASK; //将VDIV清0
    temp_reg |= MCG_C6_PLLS_MASK | MCG_C6_VDIV0(0); // 重新写值到VDIV 并且时能PLL
    MCG_C6 = temp_reg; // 更新MCG_C6的值
    // 等待PLLST状态位被置
    for (i = 0 ; i < 2000 ; i++)
    1a32:	687b      	ldr	r3, [r7, #4]
    1a34:	3301      	adds	r3, #1
    1a36:	607b      	str	r3, [r7, #4]
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../03_MCU/system_MKL25Z4.c:161 (discriminator 1)
    1a38:	687a      	ldr	r2, [r7, #4]
    1a3a:	4b23      	ldr	r3, [pc, #140]	; (1ac8 <SystemInit+0x18c>)
    1a3c:	429a      	cmp	r2, r3
    1a3e:	d9f0      	bls.n	1a22 <SystemInit+0xe6>
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../03_MCU/system_MKL25Z4.c:168
        //如果PLLST在循环结束之前被置位就跳出循环
        if (MCG_S & MCG_S_PLLST_MASK)
            break;
    }
    //等待LOCK位被置
    for (i = 0 ; i < 4000 ; i++)
    1a40:	2300      	movs	r3, #0
    1a42:	607b      	str	r3, [r7, #4]
    1a44:	e00a      	b.n	1a5c <SystemInit+0x120>
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../03_MCU/system_MKL25Z4.c:171
    {
        //如果LOCK在循环结束之前被置位就跳出循环
        if (MCG_S & MCG_S_LOCK0_MASK)
    1a46:	4b1e      	ldr	r3, [pc, #120]	; (1ac0 <SystemInit+0x184>)
    1a48:	799b      	ldrb	r3, [r3, #6]
    1a4a:	b2db      	uxtb	r3, r3
    1a4c:	1c1a      	adds	r2, r3, #0
    1a4e:	2340      	movs	r3, #64	; 0x40
    1a50:	4013      	ands	r3, r2
    1a52:	d000      	beq.n	1a56 <SystemInit+0x11a>
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../03_MCU/system_MKL25Z4.c:172
            break;
    1a54:	e006      	b.n	1a64 <SystemInit+0x128>
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../03_MCU/system_MKL25Z4.c:168
        //如果PLLST在循环结束之前被置位就跳出循环
        if (MCG_S & MCG_S_PLLST_MASK)
            break;
    }
    //等待LOCK位被置
    for (i = 0 ; i < 4000 ; i++)
    1a56:	687b      	ldr	r3, [r7, #4]
    1a58:	3301      	adds	r3, #1
    1a5a:	607b      	str	r3, [r7, #4]
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../03_MCU/system_MKL25Z4.c:168 (discriminator 1)
    1a5c:	687a      	ldr	r2, [r7, #4]
    1a5e:	4b1b      	ldr	r3, [pc, #108]	; (1acc <SystemInit+0x190>)
    1a60:	429a      	cmp	r2, r3
    1a62:	d9f0      	bls.n	1a46 <SystemInit+0x10a>
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../03_MCU/system_MKL25Z4.c:178
    }

//3.现在处于PBE模式。最后，PBE模式转换成PEE模式
    // 设置核心时钟分频器2分频
    //设置总线时钟分频器2分频 (总线时钟的时钟源是核心时钟)
    SIM_CLKDIV1 = (SIM_CLKDIV1_OUTDIV1(1) | SIM_CLKDIV1_OUTDIV4(1) );
    1a64:	4a15      	ldr	r2, [pc, #84]	; (1abc <SystemInit+0x180>)
    1a66:	4b1a      	ldr	r3, [pc, #104]	; (1ad0 <SystemInit+0x194>)
    1a68:	491a      	ldr	r1, [pc, #104]	; (1ad4 <SystemInit+0x198>)
    1a6a:	50d1      	str	r1, [r2, r3]
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../03_MCU/system_MKL25Z4.c:180
    //清CLKS来打开CLKS多路复用器来选择PLL作为MCGCLKOUT
    MCG_C1 &= ~MCG_C1_CLKS_MASK;
    1a6c:	4b14      	ldr	r3, [pc, #80]	; (1ac0 <SystemInit+0x184>)
    1a6e:	4a14      	ldr	r2, [pc, #80]	; (1ac0 <SystemInit+0x184>)
    1a70:	7812      	ldrb	r2, [r2, #0]
    1a72:	b2d1      	uxtb	r1, r2
    1a74:	223f      	movs	r2, #63	; 0x3f
    1a76:	400a      	ands	r2, r1
    1a78:	b2d2      	uxtb	r2, r2
    1a7a:	701a      	strb	r2, [r3, #0]
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../03_MCU/system_MKL25Z4.c:182
    // 等待时钟状态位更新
    for (i = 0 ; i < 2000 ; i++)
    1a7c:	2300      	movs	r3, #0
    1a7e:	607b      	str	r3, [r7, #4]
    1a80:	e00c      	b.n	1a9c <SystemInit+0x160>
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../03_MCU/system_MKL25Z4.c:185
    {
        //如果CLKST在循环结束之前等于3就跳出循环
        if (((MCG_S & MCG_S_CLKST_MASK) >> MCG_S_CLKST_SHIFT) == 0x3) break;
    1a82:	4b0f      	ldr	r3, [pc, #60]	; (1ac0 <SystemInit+0x184>)
    1a84:	799b      	ldrb	r3, [r3, #6]
    1a86:	b2db      	uxtb	r3, r3
    1a88:	1c1a      	adds	r2, r3, #0
    1a8a:	230c      	movs	r3, #12
    1a8c:	4013      	ands	r3, r2
    1a8e:	089b      	lsrs	r3, r3, #2
    1a90:	2b03      	cmp	r3, #3
    1a92:	d100      	bne.n	1a96 <SystemInit+0x15a>
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../03_MCU/system_MKL25Z4.c:185 (discriminator 1)
    1a94:	e006      	b.n	1aa4 <SystemInit+0x168>
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../03_MCU/system_MKL25Z4.c:182
    //设置总线时钟分频器2分频 (总线时钟的时钟源是核心时钟)
    SIM_CLKDIV1 = (SIM_CLKDIV1_OUTDIV1(1) | SIM_CLKDIV1_OUTDIV4(1) );
    //清CLKS来打开CLKS多路复用器来选择PLL作为MCGCLKOUT
    MCG_C1 &= ~MCG_C1_CLKS_MASK;
    // 等待时钟状态位更新
    for (i = 0 ; i < 2000 ; i++)
    1a96:	687b      	ldr	r3, [r7, #4]
    1a98:	3301      	adds	r3, #1
    1a9a:	607b      	str	r3, [r7, #4]
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../03_MCU/system_MKL25Z4.c:182 (discriminator 1)
    1a9c:	687a      	ldr	r2, [r7, #4]
    1a9e:	4b0a      	ldr	r3, [pc, #40]	; (1ac8 <SystemInit+0x18c>)
    1aa0:	429a      	cmp	r2, r3
    1aa2:	d9ee      	bls.n	1a82 <SystemInit+0x146>
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../03_MCU/system_MKL25Z4.c:190
        if (((MCG_S & MCG_S_CLKST_MASK) >> MCG_S_CLKST_SHIFT) == 0x3) break;
    }
//4.现在处于PEE模式

    //初始化后，开始PORT模块时钟
    SIM_SCGC5 |= SIM_SCGC5_PORTA_MASK
    1aa4:	4a05      	ldr	r2, [pc, #20]	; (1abc <SystemInit+0x180>)
    1aa6:	4905      	ldr	r1, [pc, #20]	; (1abc <SystemInit+0x180>)
    1aa8:	4b0b      	ldr	r3, [pc, #44]	; (1ad8 <SystemInit+0x19c>)
    1aaa:	58cb      	ldr	r3, [r1, r3]
    1aac:	21f8      	movs	r1, #248	; 0xf8
    1aae:	0189      	lsls	r1, r1, #6
    1ab0:	4319      	orrs	r1, r3
    1ab2:	4b09      	ldr	r3, [pc, #36]	; (1ad8 <SystemInit+0x19c>)
    1ab4:	50d1      	str	r1, [r2, r3]
D:\suda\KL25_BOOK\SD-KL-CD(V6.5)-20160505\02-Software\KL25-program\ch12-USB(HWW)-(20160512)\KL25_USB(Device)20160608\Debug/../03_MCU/system_MKL25Z4.c:195
                | SIM_SCGC5_PORTB_MASK
                | SIM_SCGC5_PORTC_MASK
                | SIM_SCGC5_PORTD_MASK
                | SIM_SCGC5_PORTE_MASK;
}
    1ab6:	46bd      	mov	sp, r7
    1ab8:	b002      	add	sp, #8
    1aba:	bd80      	pop	{r7, pc}
    1abc:	40047000 	.word	0x40047000
    1ac0:	40064000 	.word	0x40064000
    1ac4:	00004e1f 	.word	0x00004e1f
    1ac8:	000007cf 	.word	0x000007cf
    1acc:	00000f9f 	.word	0x00000f9f
    1ad0:	00001044 	.word	0x00001044
    1ad4:	10010000 	.word	0x10010000
    1ad8:	00001038 	.word	0x00001038

00001adc <PORT_ARR>:
$d():
    1adc:	40049000 4004a000 4004b000 4004c000     ...@...@...@...@
    1aec:	4004d000                                ...@

00001af0 <GPIO_ARR>:
    1af0:	400ff000 400ff040 400ff080 400ff0c0     ...@@..@...@...@
    1b00:	400ff100                                ...@

00001b04 <cEP_Size>:
    1b04:	20202020 20202020 20202020 20202020                     
    1b14:	00001162 00001122 00001128 00001132     b..."...(...2...
    1b24:	00001138 0000114e 0000172e 00001748     8...N.......H...
    1b34:	00001748 00001748 00001748 00001620     H...H...H... ...
    1b44:	00001632 00001748 00001720 000016e0     2...H... .......
